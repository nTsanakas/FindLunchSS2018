{"version":3,"sources":["../../src/pages/bonus/qr.service.ts","../../src/pages/tabs/tabs.ts","../../src/shared/favorize.service.ts","../../src/pages/home/FilterPopoverService.ts","../../src/pages/settings/settings.ts","../../node_modules/@angular/core/esm5 lazy","../../src/shared/auth.service.ts","../../src/app/app.module.ts","../../src lazy","../../src/pages/offers/offers.ts","../../src/pages/offer-product-details/offer-product-details.ts","../../src/pages/bonus/bonus.ts","../../src/pages/reservations/reservations.ts","../../src/pages/reservation/reservation.ts","../../src/pages/restaurant/restaurant.ts","../../src/pages/home/FilterPopoverComponent.ts","../../src/app/main.ts","../../src/shared/loading.service.ts","../../src/app/app.component.ts","../../src/shared/information.service.ts","../../src/pages/home/home.ts","../../src/shared/push.service.ts","../../src/shared/cart.service.ts","../../src/pages/account/account.ts","../../src/pages/account-details/account-details.ts","../../src/pages/register/register.ts","../../src/pages/choose-login/choose-login.ts","../../src/shared/offers.service.ts","../../src/pages/orderdetails/orderdetails.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import {Injectable} from '@angular/core';\nimport {Toast, ToastController} from \"ionic-angular\";\nimport {SERVER_URL} from \"../../app/app.module\";\nimport {BarcodeScanner, BarcodeScanResult} from '@ionic-native/barcode-scanner';\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {AuthService} from \"../../shared/auth.service\";\nimport {Error} from \"tslint/lib/error\";\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\n/**\n * Handles the barcode scanner function of the device.\n * With the barcode scanner it is possible to scan qr codes\n * and send it to the backend to confirm a reservation.\n * @author Sergej Bardin\n */\n@Injectable()\nexport class QRService {\n    private strConfirmOrderSuccess: string;\n    private strRestaurantNotFound: string;\n    private strOfferNotFound: string;\n    private strQRError: string;\n\n    constructor(private barcodeScanner: BarcodeScanner,\n                private toastCtrl: ToastController,\n                private http: HttpClient,\n                private auth: AuthService,\n                private translate: TranslateService) {\n        this.init();\n    }\n\n    public init(): void {\n        this.translate.get('Success.confirmOrder').subscribe(\n            (value: string) => {\n                this.strConfirmOrderSuccess = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Success.confirmOrder.\", err);\n            });\n        this.translate.get('Error.confirmOrderRestaurant').subscribe(\n            (value: string) => {\n                this.strRestaurantNotFound = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.confirmOrderRestaurant.\", err);\n            });\n        this.translate.get('Error.confirmOrderOffer').subscribe(\n            (value: string) => {\n                this.strOfferNotFound = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.confirmOrderOffer.\", err);\n            });\n        this.translate.get('Error.qr').subscribe(\n            (value: string) => {\n                this.strQRError = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.qr.\", err);\n            });\n    }\n\n    /**\n     * Handles the barcode scanner function of the device.\n     * Sends a request with a qr code to the backend.\n     * While request is underway,\n     * There will displayed a message if:\n     * - succesfully confirmed an reservation\n     * - there is no restaurant(qr code unknown)\n     * - there is no offer\n     * - the request to the backend fails\n     * - the devices barcode scanner got a problem.\n     *\n     * @param event\n     * @return promise of barcode result\n     */\n    public onQRClicked(event: Event): Promise<void> {\n        return this.barcodeScanner.scan()\n            .then(\n                (barcodeData: BarcodeScanResult) => {\n                    if (!barcodeData.cancelled) {\n\n                        //preparing HttpHeaders\n                        const headers: HttpHeaders = this.auth.prepareHttpOptions();\n\n                        this.http.get<number>(`${SERVER_URL}/api/confirm_reservation/${barcodeData.text}`, {headers})\n                            .retry(2)\n                            .subscribe(\n                                res => {\n                                    let msg: string;\n                                    switch (res) {\n                                        case 0:\n                                            msg = this.strConfirmOrderSuccess;\n                                            break;\n                                        case 3:\n                                            msg = this.strRestaurantNotFound;\n                                            break;\n                                        case 4:\n                                            msg = this.strOfferNotFound;\n                                            break;\n                                        default:\n                                            msg = this.strQRError;\n                                            break;\n                                    }\n                                    const toast: Toast = this.toastCtrl.create({\n                                        message: msg,\n                                        duration: 3000\n                                    });\n                                    toast.present();\n                                },\n                                (err: Error) => {\n                                    console.error(\"QR Scan: Server response error!\", err);\n                                    const toast: Toast = this.toastCtrl.create({\n                                        message: this.strQRError,\n                                        duration: 3000\n                                    });\n                                    toast.present();\n                                }\n                            );\n                    } else {\n                        console.warn(\"QR-Scan abort!\");\n                    }\n                },\n                err => {\n                    console.error(\"QR-Scan Error!\", err);\n                    const toast: Toast = this.toastCtrl.create({\n                        message: this.strQRError,\n                        duration: 3000\n                    });\n                    toast.present();\n                });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/bonus/qr.service.ts","import { Component } from '@angular/core';\n\nimport { HomePage } from '../home/home';\nimport { SettingsPage } from '../settings/settings';\nimport {AuthService} from \"../../shared/auth.service\";\nimport {AccountDetailsPage} from \"../account-details/account-details\";\nimport {ChooseLoginPage} from \"../choose-login/choose-login\";\n\n@Component({\n  selector: 'tabs-page',\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n\n  tab1Root = ChooseLoginPage;\n  tab2Root = HomePage;\n  tab3Root = SettingsPage;\n  tab4Root = AccountDetailsPage;\n\n  constructor(private auth: AuthService) {\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import {Injectable} from '@angular/core';\nimport {HttpHeaders, HttpClient, HttpResponse} from \"@angular/common/http\";\nimport {SERVER_URL} from \"../app/app.module\";\n\nimport 'rxjs/add/operator/map';\nimport {Observable} from \"rxjs/Observable\";\nimport {AuthService} from \"./auth.service\";\n\n\n/**\n *Service that handles the roundtrips for favorizing and defavorizing a restaurant\n *\n * @edited Paul Mandl\n */\n@Injectable()\n\nexport class FavorizeService{\n\n    constructor(public http: HttpClient,\n                private auth: AuthService) {\n    }\n\n    /**\n     * toggles the \"favorite\" status for a user's restaurant\n     * @param isFavorite boolean that provides the info whether the restaurant is a favorite at the moment\n     * @param restaurantID ID of the according restraunt to (de-)favorize\n     * @returns {Observable<Response>} Observable that communicates whether round trip was successful\n     */\n    public toggleFavorize(isFavorite: boolean, restaurantID: number): Observable<HttpResponse<Object>> {\n      let headers: HttpHeaders;\n      if (isFavorite) {\n        headers = this.auth.prepareHttpOptions();\n        return this.http.delete<Object>(`${SERVER_URL}/api/unregister_favorite/${restaurantID}`, {\n          observe: 'response',\n          headers\n        });\n      } else {\n        headers = this.auth.prepareHttpOptions();\n        return this.http.put<Object>(`${SERVER_URL}/api/register_favorite/${restaurantID}`, \"\", {\n          observe: 'response',\n          headers\n        });\n      }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/favorize.service.ts","import {Injectable} from \"@angular/core\";\nimport {KitchenType} from \"../../model/KitchenType\";\nimport {Response} from \"@angular/http\";\n\nimport {SERVER_URL} from \"../../app/app.module\";\nimport {Alert, AlertController, Platform} from \"ionic-angular\";\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {HttpClient} from \"@angular/common/http\";\n\n/**\n * This serves as a communication-service between the filtering popover-component and the map.\n * It holds the state of the currently selected filters.\n * @author David Sautter\n */\n@Injectable()\nexport class FilterPopoverService {\n\n    // filter states\n    public selectedKitchenTypes: KitchenType[];\n    public showOnlyFavorites: boolean;\n    public showOnlyOpened: boolean;\n\n    // all possible kitchen-types (fetched from the server)\n    public kitchenTypes: KitchenType[];\n\n    // GUI-strings\n    private strErrorGeneral: string;\n    private strErrorServiceNotAvailable: string;\n    private strClose: string;\n    private strRetry: string;\n\n    constructor(\n        private http: HttpClient,\n        private alertCtrl: AlertController,\n        private translate: TranslateService,\n        private platform: Platform\n    ) {\n        this.init();\n    }\n\n    public init(): void {\n        // get translations\n        this.translate.get('Error.general').subscribe(\n            (res: string) => {\n                this.strErrorGeneral = res;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.general.\", err);\n            });\n\n        this.translate.get('Error.serviceNotAvailable').subscribe(\n            (res: string) => {\n                this.strErrorServiceNotAvailable = res;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.serviceNotAvailable.\", err);\n            });\n        this.translate.get('close').subscribe(\n            (res: string) => {\n                this.strClose = res;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key close.\", err);\n            });\n        this.translate.get('retry').subscribe(\n            (res: string) => {\n                this.strRetry = res;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key retry.\", err);\n            });\n\n\n        // fetch the kitchen types from the server\n        this.fetchKitchenTypes();\n    }\n\n\n    /**\n     * Fetches kitchentypes from the server.\n     * If the request fails, it shows an alert with the options to retry or close the app.\n     */\n    private fetchKitchenTypes(): void {\n        this.http.get<KitchenType[]>(`${SERVER_URL}/api/kitchen_types`)\n            .timeout(8000)\n            .subscribe(\n                resp => {\n                    this.kitchenTypes = resp;\n\n                    // initially select all kitchen-types\n                    this.selectedKitchenTypes = this.kitchenTypes;\n                },\n                err => {\n                    console.error(\"Error fetching kitchenTypes\", err);\n\n                    // show error alert with action-buttons\n                    const alert: Alert = this.alertCtrl.create({\n                        title: this.strErrorGeneral,\n                        subTitle: this.strErrorServiceNotAvailable,\n                        buttons: [\n                            {\n                                text: this.strClose,\n                                role: 'cancel',\n                                handler: (): void => {\n                                    // close the app\n                                    this.platform.exitApp();\n                                }\n                            },\n                            {\n                                text: this.strRetry,\n                                handler: (): void => {\n                                    // recursive call! Fetch kitchen types again.\n                                    this.fetchKitchenTypes();\n                                }\n                            }\n                        ]\n\n                    });\n                }\n            );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/FilterPopoverService.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform } from 'ionic-angular';\nimport {SERVER_URL} from '../../app/app.module';\nimport {InAppBrowser} from '@ionic-native/in-app-browser';\n/**\n * Generated class for the SettingsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html',\n})\nexport class SettingsPage {\n\n  constructor(public platform: Platform, public navCtrl: NavController, public navParams: NavParams, private iab: InAppBrowser) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad SettingsPage');\n  }\n\n  /**\n   * Opens a url in the inapp browser\n   * @param url\n   */\n  public openUrl(url: string): void {\n    console.log('im OpenURL');\n    if (url !== null) {\n      this.platform.ready().then(() => {\n        this.iab.create(url, \"location=yes\");\n      });\n    }\n  }\n  /**\n  * opens in app browser on terms&conditions url\n  */\n\n  public goToTermsAndConditions(): void {\n    this.openUrl(`${SERVER_URL}/terms`);\n  }\n\n  /**\n   * opens in app browser on faq url\n   * */\n\n  public goToFaQ(): void {\n    this.openUrl(`${SERVER_URL}/faq_customer`);\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 139;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 139\n// module chunks = 6","import {Injectable} from \"@angular/core\";\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\nimport {SERVER_URL} from \"../app/app.module\";\nimport {User} from \"../model/User\";\nimport {Observable} from \"rxjs/Observable\";\n\n/**\n * Service that handles everything about login, verification and registration of users of the App.\n *\n * @author Skanny Morandi - refactored by Sergej Bardin\n * @edited Paul Mandl\n */\n@Injectable()\nexport class AuthService {\n    public loggedIn: boolean;\n    public userName: string;\n    public user: User;\n\n    constructor(private http: HttpClient) {\n    }\n\n    /**\n     * Checks whether the username and password provided are present in the backend database.\n     * if yes, this method writes the credentials into the local storage of the device,\n     * to make it available even after closing the app and therefore the user doesn't have to login\n     * on every startup\n     *\n     * @param username\n     * username, the user's e-mail adress\n     * @param password\n     * password of the user\n     * result returned to the method that called the login-functionality\n     */\n    public login(username: string, password: string): Observable<boolean> {\n\n      this.user = {username: username,\n                   password: password};\n\n      const encodedCredentials: string = btoa(`${username}:${password}`);\n      const headers: HttpHeaders = new HttpHeaders({\n        'Content-Type': 'application/json',\n        Authorization: `Basic ${encodedCredentials}`\n      });\n\n      return this.http.get<boolean>(`${SERVER_URL}/api/login_user`,\n        {headers});\n    }\n\n    /*\n     * Registers user and if successful also directly logs the user in.\n     * @param userName\n     *  chosen username\n     * @param password\n     *  chosen password\n     *  result whether registration was successful returned to the calling method\n     */\n    public register  (username: string, password: string) : Observable<boolean> {\n\n      this.user = {username: username,\n                   password: password};\n\n      const headers: HttpHeaders = new HttpHeaders({\n        'Content-Type': 'application/json'\n      });\n\n     return this.http.post<boolean>(`${SERVER_URL}/api/register_user`, this.user, {headers});\n\n    }\n\n    /**\n     * verifies whether the user stored in the local storage is still existent in backend database.\n     * If no more existent, logs the user out\n     *\n     */\n    public verifyUser() : void {\n        //if there is a username stored at all in the local storage...\n        if (window.localStorage.getItem(\"username\") !== null) {\n            const headers: HttpHeaders = this.prepareHttpOptions();\n            this.http.get(`${SERVER_URL}/api/login_user`, {headers}).subscribe(\n                res => {\n                    //if verification successful..\n                    this.loggedIn = true;\n                    this.userName = window.localStorage.getItem(\"username\");\n            },\n                err => {\n                    console.log(\"User konnte nicht verifiziert werden (Fehler in: verifyUser())\");\n                    this.logout();\n            });\n        }\n    }\n\n    /**\n     * Returns whether the current user is verified, aka his \"logged in\"-status\n     * @returns {boolean}\n     * logged-in status of user\n     */\n    public getLoggedIn(): boolean {\n        return this.loggedIn;\n    }\n\n    /**\n     * Gets username of the current User\n     * @returns {string}\n     *  username of current user\n     */\n    public getUserName(): string {\n        return this.userName;\n    }\n    /**\n    * Gets userobject of the current User\n    * @returns {User}\n    *  Userobject of current user\n    */\n    public getUser(): User {\n      return this.user;\n    }\n\n    /**\n     * logs the current user out. Clears his username and token from the local storage.\n     */\n    public logout(): void {\n        const currentUser: string = window.localStorage.getItem(\"username\");\n\n        //delete key-value pair stored under the key named after the most recently logged in user\n        window.localStorage.removeItem(currentUser);\n        // delete latest logged in user stored under key \"username\"\n        window.localStorage.removeItem(\"username\");\n        this.loggedIn = false;\n        this.userName = \"\";\n    }\n\n    /**\n     * prepares the options object for http-requests. If user is logged in, authentication header\n     * is sent along, otherwise RequestHeaders get sent along \"empty\".\n     *\n     * Request method that represents the http-method used\n     * RequestMethod.Get .Put .Delete .Post etc.\n     */\n    public prepareHttpOptions(): HttpHeaders {\n\n        let headers: HttpHeaders;\n\n        if (this.getLoggedIn()) {\n            const user: string = window.localStorage.getItem(\"username\");\n            const token: string = window.localStorage.getItem(user);\n            headers = new HttpHeaders({\n                'Content-Type': 'application/json',\n                Authorization: `Basic ${token}`\n            });\n        }\n        return headers;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/auth.service.ts","\n/*\n*\n* Importieren der nötigen Angular-Plugins\n*\n**/\nimport { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport {IonicApp, IonicModule, IonicErrorHandler, NavController} from 'ionic-angular';\nimport {HttpClient, HttpClientModule} from \"@angular/common/http\";\n\nimport {TranslateLoader, TranslateModule} from '@ngx-translate/core';\nimport {TranslateHttpLoader} from '@ngx-translate/http-loader';\n/*\n*\n* Importieren der Informationen für die App\n*\n**/\nimport { MyApp } from './app.component';\n/*\n*\n* Importieren der Einzelnen Seiten der App\n*\n**/\nimport { AccountPage } from '../pages/account/account';\nimport { AccountDetailsPage} from \"../pages/account-details/account-details\";\nimport { HomePage } from '../pages/home/home';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { SettingsPage } from '../pages/settings/settings';\nimport {RegisterPage} from \"../pages/register/register\";\nimport {OffersPage} from \"../pages/offers/offers\";\nimport {BonusPage} from \"../pages/bonus/bonus\";\nimport {OfferProductDetailsPage} from \"../pages/offer-product-details/offer-product-details\";\nimport {RestaurantPage} from \"../pages/restaurant/restaurant\";\nimport {ReservationPage} from \"../pages/reservation/reservation\";\nimport {QRService} from \"../pages/bonus/qr.service\";\nimport {FilterPopoverComponent} from \"../pages/home/FilterPopoverComponent\";\nimport {FilterPopoverService} from \"../pages/home/FilterPopoverService\";\nimport {OffersService} from \"../shared/offers.service\";\nimport {ReservationsPage} from \"../pages/reservations/reservations\";\nimport {OrderDetailsPage} from \"../pages/orderdetails/orderdetails\";\n/*\n*\n* Importieren der Services für den Zugriff auf die Rest-Schnittstellen\n*\n**/\n\nimport {AuthService} from \"../shared/auth.service\";\nimport {CartService} from \"../shared/cart.service\";\nimport {LoadingService} from \"../shared/loading.service\";\nimport {PushService} from \"../shared/push.service\";\nimport {FavorizeService} from '../shared/favorize.service';\nimport {InformationService} from \"../shared/information.service\";\n/*\n*\n* Importieren Ionic-Native Plugins\n*\n**/\nimport {InAppBrowser} from \"@ionic-native/in-app-browser\";\nimport {CommonModule, DatePipe} from \"@angular/common\";\nimport {BarcodeScanner} from \"@ionic-native/barcode-scanner\";\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport {NativeGeocoder} from \"@ionic-native/native-geocoder\";\nimport {Push} from \"@ionic-native/push\";\nimport {Network} from \"@ionic-native/network\";\nimport {ChooseLoginPage} from \"../pages/choose-login/choose-login\";\nimport {FCM} from \"@ionic-native/fcm\";\n\nexport const SERVER_URL: string = \"http://192.168.2.76:8080\";\nexport const APP_LANG: string = \"de\";\nexport const FCM_SENDER_ID: string = '101435960151';\n\n\n@NgModule({\n  declarations: [\n    ChooseLoginPage,\n    MyApp,\n    AccountPage,\n    AccountDetailsPage,\n    RegisterPage,\n    HomePage,\n    TabsPage,\n    SettingsPage,\n    OffersPage,\n    BonusPage,\n    OrderDetailsPage,\n    FilterPopoverComponent,\n    OfferProductDetailsPage,\n    RestaurantPage,\n    ReservationsPage,\n    ReservationPage\n  ],\n  imports: [\n    CommonModule,\n    BrowserModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: (createTranslateLoader),\n        deps: [HttpClient]}\n    }),\n    HttpClientModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    ChooseLoginPage,\n    MyApp,\n    AccountPage,\n    AccountDetailsPage,\n    RegisterPage,\n    HomePage,\n    TabsPage,\n    SettingsPage,\n    OffersPage,\n    BonusPage,\n    OrderDetailsPage,\n    FilterPopoverComponent,\n    OfferProductDetailsPage,\n    ReservationPage,\n    RestaurantPage,\n    ReservationsPage\n  ],\n  providers: [\n    FCM,\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    FilterPopoverService,\n    NativeGeocoder,\n    OffersService,\n    BarcodeScanner,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    QRService,\n    CartService,\n    Push,\n    InformationService,\n    AuthService,\n    InAppBrowser,\n    PushService,\n    LoadingService,\n    DatePipe,\n    Network,\n    FavorizeService,\n\n  ]\n})\nexport class AppModule {}\n\n/**\n * Function prepares the loader for the translation service\n * from './assets/i18n/*.json'.\n * @param http\n * @returns {TranslateLoader}\n */\nexport function createTranslateLoader(http: HttpClient): TranslateHttpLoader{\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","var map = {\n\t\"../pages/account-details/account-details.module\": [\n\t\t342,\n\t\t5\n\t],\n\t\"../pages/account/account.module\": [\n\t\t343,\n\t\t4\n\t],\n\t\"../pages/choose-login/choose-login.module\": [\n\t\t345,\n\t\t3\n\t],\n\t\"../pages/home/home.module\": [\n\t\t341,\n\t\t2\n\t],\n\t\"../pages/register/register.module\": [\n\t\t346,\n\t\t1\n\t],\n\t\"../pages/settings/settings.module\": [\n\t\t344,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 181;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 181\n// module chunks = 6","import {Component, OnInit} from \"@angular/core\";\nimport {Alert, AlertController, Loading, NavController, NavParams, Platform} from \"ionic-angular\";\nimport {OffersService} from \"../../shared/offers.service\";\nimport {OfferProductDetailsPage} from \"../offer-product-details/offer-product-details\";\nimport {OrderDetailsPage} from \"../orderdetails/orderdetails\";\nimport {Restaurant} from \"../../model/Restaurant\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {RestaurantPage} from \"../restaurant/restaurant\";\nimport {Observable} from \"rxjs/Observable\";\nimport {Response} from \"@angular/http\";\nimport {SERVER_URL} from \"../../app/app.module\";\n\nimport {CartService} from \"../../shared/cart.service\";\nimport {AuthService} from \"../../shared/auth.service\";\nimport {InformationService} from \"../../shared/information.service\";\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {LoadingService} from \"../../shared/loading.service\";\nimport {Offer} from \"../../model/Offer\";\nimport {Error} from \"tslint/lib/error\";\nimport 'rxjs/add/operator/catch';\nimport {FavorizeService} from \"../../shared/favorize.service\";\n\n/**\n * Page for showing the offers of a specific restaurant in a list.\n * If the user clicks on an offer, she will get to the detail view of this offer.\n * @author David Sautter, Skanny Morandi\n */\n@Component({\n    templateUrl: 'offers.html'\n})\nexport class OffersPage implements OnInit {\n    public restaurant: Restaurant;\n    public offers: Offer[];\n\n    // need this to be able to call a static function from the template\n    public getALGsAndADDsOfOffer: Function = OffersService.getALGsAndADDsOfOffer;\n    public allergenics$: Observable<string>;\n    public additives$: Observable<string>;\n\n    public categories: string[];\n\n    private shownGroup: string = null;\n    private strErrorFavorize: string;\n    private strErrorDeFavorize: string;\n    private strOpeningError: string;\n    private strError: string;\n\n    constructor(navParams: NavParams,\n                public offerService: OffersService,\n                private cartService: CartService,\n                private navCtrl: NavController,\n                private http: HttpClient,\n                public auth: AuthService,\n                private platform: Platform,\n                private loading: LoadingService,\n                private alertCtrl: AlertController,\n                private fav: FavorizeService,\n                private translate: TranslateService,\n                private info: InformationService) {\n\n        this.restaurant = navParams.get(\"restaurant\");\n\n        // disable back-animation, because it causes problems with displaying the map on iOS\n        platform.ready().then(() => {\n            platform.registerBackButtonAction(() => {\n                this.navCtrl.pop({animate: false});\n            });\n        });\n    }\n\n    public ngOnInit(): void {\n        this.translate.get('Error.favorize').subscribe(\n            (res: string) => {\n                this.strErrorFavorize = res;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.favorize.\", err);\n            });\n        this.translate.get('Error.deFavorize').subscribe(\n            (res: string) => {\n                this.strErrorDeFavorize = res;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.deFavorize.\", err);\n            });\n        this.translate.get('Error.openingProblem').subscribe(\n            (str: string) => {\n                this.strOpeningError = str;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.openingProblem.\", err);\n            });\n        this.translate.get('Error.general').subscribe(\n            (value: string) => {\n                this.strError = value;\n                },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.general.\", err);\n            }\n        );\n\n      this.offerService.loadOffers(this.restaurant.id).subscribe(resp => {\n          this.offers = resp;\n          this.categories = Object.keys(this.offers);\n          this.shownGroup = this.categories[0] || null;\n        },\n        err => {\n          console.error(\"Error retrieving offers of restaurant: \", this.restaurant, err);\n          alert(this.strOpeningError);\n          this.navCtrl.pop(); // go back so that the user can select another restaurant\n        }\n      );\n        // get the allergenics, and additives from the server\n        this.info.loadAllergenics()\n            .subscribe(resp => {this.allergenics$ = resp},\n              err => {\n                console.error(\"Error retrieving allergenics: \", err);\n                return Observable.of(\"\");\n              }\n              );\n        this.info.loadAdditives()\n            .subscribe(resp => {this.additives$ = resp},\n              err => {\n                console.error(\"Error retrieving allergenics: \", err);\n                return Observable.of(\"\");\n              }\n              );\n    }\n\n    /**\n     * Navigates to the Product details page of the clicked menu item.\n     * @param event\n     *  the click\n     * @param offer\n     *  the clicked offer\n     * @author Skanny Morandi\n     */\n    public onOfferClicked(event: Event, offer: Offer): void {\n        this.navCtrl.push(OfferProductDetailsPage, {offer, restaurant: this.restaurant});\n    }\n\n    /**\n     * Navigate to the RestaurantPage of the restaurant whos offers are shown on click\n     * current restaurant Object is sent along\n     * @param event\n     *  the click\n     * @author Skanny Morandi\n     */\n    public onRestaurantClicked(event: Event): void {\n        this.navCtrl.push(RestaurantPage, {restaurant: this.restaurant});\n    }\n\n    /**\n     * Toggles the isFavorite status of the restaurant and also sends this to the server.\n     * Shows a loading animation while request is running\n     * @author Skanny Morandi\n     */\n    public toggleIsFavorite(): void {\n        // prepare loader\n        const loader: Loading = this.loading.prepareLoader();\n        loader.present();\n\n        // unset as favorite if already favorite\n        if (this.restaurant.isFavorite) {\n            this.fav.toggleFavorize(this.restaurant.isFavorite, this.restaurant.id)\n                .timeout(8000)\n                .subscribe(\n                    resp => {\n                        if (resp) {\n                            this.restaurant.isFavorite = false;\n                            loader.dismiss();\n                        } else {\n                            loader.dismiss();\n                            const alert: Alert = this.alertCtrl.create({\n                                title: this.strError,\n                                message: this.strErrorDeFavorize,\n                                buttons: [{\n                                    text: 'Ok',\n                                    role: 'cancel'\n                                }]\n                            });\n                            alert.present();\n                        }\n                    },\n                    err => {\n                        loader.dismiss();\n                        console.error(\"Defavorize restaurant failed.\", err);\n                        const alert: Alert = this.alertCtrl.create({\n                            title: this.strError,\n                            message: this.strErrorDeFavorize,\n                            buttons: [{\n                                text: 'Ok',\n                                role: 'cancel'\n                            }]\n                        });\n                        alert.present();\n                    });\n        // if not yet set as favorite, set it\n        } else {\n            this.fav.toggleFavorize(this.restaurant.isFavorite, this.restaurant.id)\n                .timeout(8000)\n                .subscribe(\n                resp => {\n                  if (resp){\n                    this.restaurant.isFavorite = true;\n                    loader.dismiss();\n                  } else {\n                    loader.dismiss();\n                    const alert: Alert = this.alertCtrl.create({\n                      title: this.strError,\n                      message: this.strErrorDeFavorize,\n                      buttons: [{\n                        text: 'Ok',\n                        role: 'cancel'\n                      }]\n                    });\n                    alert.present();\n                  }\n                }, err => {\n                  loader.dismiss();\n                  console.error(\"Defavorize restaurant failed.\", err);\n                  const alert: Alert = this.alertCtrl.create({\n                    title: this.strError,\n                    message: this.strErrorDeFavorize,\n                    buttons: [{\n                      text: 'Ok',\n                      role: 'cancel'\n                    }]\n                  });\n                  alert.present();\n                });\n\n        }\n    }\n\n    /**\n     * Gets the number of items in the cart for the cartsymbol badge\n     * @returns {number} number of items in current cart for chosen restaurant\n     */\n    public getCartItemCount(): number {\n        return this.cartService.getCartItemCount(this.restaurant.id);\n    }\n\n    /**\n     * Toggles a food category on click and shows the food items in it\n     * @param group {string}\n     *  according food category\n     */\n    private toggleGroup(group: string): void {\n        if (this.isGroupShown(group)) {\n            this.shownGroup = null;\n        } else {\n            this.shownGroup = group;\n        }\n    }\n\n    /**\n     * Returns whether the items of a food category are to be shown or hidden\n     * by being collapsed\n     * @param group {string}\n     *  the according food category\n     * @returns {boolean}\n     *  boolean whether items are to be shown or not.\n     */\n    private isGroupShown(group: string): boolean {\n        return this.shownGroup === group;\n    }\n\n    /**\n     * sends user to the OrderDetails page, along with the restaurant object\n     */\n    private goToCheckout(): void {\n        this.navCtrl.push(OrderDetailsPage, {\n            restaurant: this.restaurant\n        });\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/offers/offers.ts","import {Component} from \"@angular/core\";\nimport {NavController, NavParams, Toast, ToastController} from \"ionic-angular\";\nimport {Offer} from \"../../model/Offer\";\nimport {CartService} from \"../../shared/cart.service\";\nimport {OrderDetailsPage} from \"../orderdetails/orderdetails\";\nimport {Restaurant} from \"../../model/Restaurant\";\nimport {OffersService} from \"../../shared/offers.service\";\nimport {TranslateService} from \"@ngx-translate/core\";\n\n/**\n * Page for showing the details of a offered product.\n * Offer and restaurant-id must be provided via navParams (\"restaurant\", \"offer\").\n * This page enables adding the item to the cart and shows the number of items in cart in the header.\n * @author Daivd Sautter\n * @edited Paul Mandl, Adrian Hufnagl\n */\n@Component({\n  templateUrl: './offer-product-details.html'\n})\nexport class OfferProductDetailsPage {\n\n  public cart: Offer[];\n  public restaurant: Restaurant;\n  public offer: Offer;\n\n  // need this to be able to call a static function from the template\n  public getALGsAndADDsOfOffer: Function = OffersService.getALGsAndADDsOfOffer;\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              private toastCtrl: ToastController,\n              private cartService: CartService,\n              public offersService: OffersService,\n              public translate: TranslateService\n  ) {\n    this.restaurant = navParams.get(\"restaurant\");\n    this.offer = navParams.get(\"offer\");\n    // get cart for this restaurant\n    this.cart = cartService.getCart(this.restaurant.id);\n  }\n\n  /**\n   * Adds the offer to the restaurant's cart.\n   * @param {Offer} offer offer, that should be added to the cart\n   */\n  public addToCart(offer: Offer): void {\n    this.cartService.addItemToCart(this.restaurant.id, offer);\n    const toast: Toast = this.toastCtrl.create({\n      message: offer.title + \" wurde zum Warenkorb hinzugefügt\",\n      duration: 3000\n    });toast.present();\n  }\n\n\n  /**\n   * Retrieves the number of items, that are currently in the cart for this restaurant.\n   * @returns {number} count of items in cart\n   */\n  public getCartItemCount(): number {\n    return this.cartService.getCartItemCount(this.restaurant.id);\n  }\n\n\n  /**\n   * Navigates to the order-details-page for this restaurant.\n   */\n  public goToOrderDetailsPage(): void {\n    this.navCtrl.push(OrderDetailsPage, {\n      restaurant: this.restaurant\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/offer-product-details/offer-product-details.ts","import {Component, OnInit} from \"@angular/core\";\nimport { Response} from \"@angular/http\";\nimport {SERVER_URL} from \"../../app/app.module\";\nimport {QRService} from \"./qr.service\";\nimport {TranslateService} from '@ngx-translate/core';\nimport {LoadingService} from \"../../shared/loading.service\";\nimport {AuthService} from \"../../shared/auth.service\";\nimport {InformationService} from \"../../shared/information.service\";\nimport {Loading, Alert, AlertController, NavController} from \"ionic-angular\";\nimport {Error} from \"tslint/lib/error\";\nimport {HomePage} from \"../home/home\";\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\n\n\n/**\n * This pages loads and shows the points of an user per restaurant.\n * Also shows the barcode scanner (qr scanner) function.\n * @author Sergej Bardin\n */\n@Component({\n    templateUrl: 'bonus.html'\n})\nexport class BonusPage implements OnInit {\n    //noinspection TsLint\n    public points: any[];\n    private strLoadPointsError: string;\n    private strGeneralError: string;\n    private strCancel: string;\n    private strRetry: string;\n    constructor(private http: HttpClient,\n                private qr: QRService,\n                private auth: AuthService,\n                private alertCtrl: AlertController,\n                private loading: LoadingService,\n                private translate: TranslateService,\n                private navCtrl: NavController,\n                private info: InformationService) {\n    }\n    public ngOnInit() : void {\n        this.translate.get('Error.points').subscribe(\n            (value: string) => {\n                this.strLoadPointsError = value;\n                },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.points.\", err);\n            });\n        this.translate.get('Error.general').subscribe(\n            (value: string) => {\n                this.strGeneralError = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.general.\", err);\n            });\n        this.translate.get('retry').subscribe(\n            (value: string) => {\n                this.strRetry = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key retry.\", err);\n            });\n        this.translate.get('cancel').subscribe(\n            (value: string) => {\n                this.strCancel = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key cancel.\", err);\n            });\n        this.getPoints();\n    }\n    /**\n     * Opens the barcode scanner(camera) of the device via service\n     */\n    private onQRClicked (event: Event) : void {\n        this.qr.onQRClicked(event)\n            .then(() => {\n                this.getPoints();\n            });\n    }\n\n    /**\n     * Loads available points of an authorized user per restaurant\n     *\n     */\n    private getPoints () : void {\n\n      const loader: Loading = this.loading.prepareLoader();\n      loader.present();\n      this.info.loadPoints().subscribe(\n\n        //prepare and start loading spinner\n        resp => {\n          this.points = resp;\n          loader.dismiss();\n        },\n        err => {\n          console.error(\"Getting user points error.\", err);\n          loader.dismiss();\n          //noinspection TsLint\n          const alert: Alert = this.alertCtrl.create({\n            title: this.strGeneralError,\n            subTitle: this.strLoadPointsError,\n            buttons: [\n              {\n                text: 'Ok',\n                role: 'cancel',\n                handler: () => {\n                  this.navCtrl.setRoot(HomePage);\n                }\n              },\n              {\n                text: this.strRetry,\n                handler: () => {\n                  this.getPoints();\n                }\n              }\n            ]\n\n          });\n          alert.present();\n        }\n      );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/bonus/bonus.ts","import {Component, OnInit} from \"@angular/core\";\nimport {Alert, AlertController, Loading, NavController} from \"ionic-angular\";\nimport { Response} from \"@angular/http\";\nimport {SERVER_URL} from \"../../app/app.module\";\nimport {ReservationPage} from \"../reservation/reservation\";\nimport {Reservation} from \"../../model/Reservation\";\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {AuthService} from \"../../shared/auth.service\";\nimport {LoadingService} from \"../../shared/loading.service\";\nimport {HomePage} from \"../home/home\";\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\nimport {InformationService} from \"../../shared/information.service\";\n\n/**\n * This pages loads and shows all reservation of an user.\n * @author Sergej Bardin & Skanny Morandi\n */\n@Component({\n    templateUrl: 'reservations.html'\n})\nexport class ReservationsPage implements OnInit {\n    public reservations: Reservation[];\n    public usedRestaurants: String[];\n    private strReservationError: string;\n    private strGeneralError: string;\n    private strRetry: string;\n    private strCancel: string;\n\n    constructor(public navCtrl: NavController,\n                private http: HttpClient,\n                private auth: AuthService,\n                private loading: LoadingService,\n                private alertCtrl: AlertController,\n                private translate: TranslateService,\n                private info: InformationService) {\n        this.usedRestaurants = [];\n    }\n    /**\n     * Loads the reservation(s) of a user.\n     */\n    public ngOnInit(): void {\n        this.translate.get('Error.reservation').subscribe(\n            (value: string) => {\n                this.strReservationError = value;\n                },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.reservation.\", err);\n            });\n        this.translate.get('Error.general').subscribe(\n            (value: string) => {\n                this.strGeneralError = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.general.\", err);\n            });\n        this.translate.get('retry').subscribe(\n            (value: string) => {\n                this.strRetry = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key retry.\", err);\n            });\n        this.translate.get('cancel').subscribe(\n            (value: string) => {\n                this.strCancel = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key cancel.\", err);\n            });\n        this.loadReservations();\n    }\n\n    /**\n     * Saving the restaurants from reserveration to array\n     */\n    public collectUsedRestaurants(): void {\n        for (const reservation of this.reservations) {\n            if (this.usedRestaurants.indexOf(reservation.restaurant.name) === -1) {\n                this.usedRestaurants.push(reservation.restaurant.name);\n            }\n        }\n    }\n\n    /**\n     * Opens a reservation detail view on click.\n     * @param event\n     * @param reservation\n     */\n    public onReservationClicked(event: Event, reservation: String): void {\n        this.navCtrl.push(ReservationPage, {reservation: reservation});\n    }\n\n    /**\n     * Sorts several reserverations by collect time\n     * @param reservations\n     *\n     * TODO: res.Json!!!\n     */\n    public sortByCollectTime(reservations: Reservation[]): void {\n        reservations.sort((a: Reservation, b: Reservation) => {\n            if (a.collectTime > b.collectTime) { return -1; }\n            if (b.collectTime > a.collectTime) { return 1; }\n            return 0;\n        });\n    }\n\n    private loadReservations(): void {\n        //prepare a loading spinner\n        const loader: Loading = this.loading.prepareLoader();\n        loader.present();\n\n        this.info.loadCustomerReservations()\n            //.timeout(8000)\n            .subscribe(\n              resp =>{\n                    this.reservations = resp;\n                    if (this.reservations.length > 0) {\n                        this.collectUsedRestaurants();\n                        this.sortByCollectTime(this.reservations);\n                    }\n                    loader.dismiss();\n                },\n                err => {\n                    loader.dismiss();\n                    console.error(\"Error on loading reservations.\", err);\n                    //noinspection TsLint\n                    const alert: Alert = this.alertCtrl.create({\n                        title: this.strGeneralError,\n                        subTitle: this.strReservationError,\n                        buttons: [\n                            {\n                                text: 'Ok',\n                                role: 'cancel',\n                                handler: () => {\n                                    this.navCtrl.setRoot(HomePage);\n                                }\n                            },\n                            {\n                                text: this.strRetry,\n                                handler: () => {\n                                    this.loadReservations();\n                                }\n                            }\n                        ]\n                    });\n                    alert.present();\n                }\n            );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reservations/reservations.ts","import {Component} from \"@angular/core\";\nimport {NavParams} from \"ionic-angular\";\nimport {Restaurant} from \"../../model/Restaurant\";\nimport {Reservation} from \"../../model/Reservation\";\nimport {DatePipe} from \"@angular/common\";\nimport {Offer} from \"../../model/Offer\";\n\n/**\n * This view loads a detailed reservation page\n * @author Sergej Bardin\n */\n@Component({\n    templateUrl: 'reservation.html'\n})\nexport class ReservationPage {\n\n    public reservation: Reservation;\n    public offers: Offer[];\n    public restaurant: Restaurant;\n    public points: number = 0;\n    private param: Object;\n    /**\n     * Initialize modules and displays the points earned for this order\n     * @param navParams\n     */\n    constructor(private navParams: NavParams, public datepipe: DatePipe) {\n        this.reservation = navParams.get(\"reservation\");\n        this.restaurant = this.reservation.restaurant;\n        this.points = this.reservation.points;\n        this.offers = this.reservation.reservation_offers;\n        this.param = {\n            name: this.restaurant.name,\n            points: this.points,\n            collectTime: this.datepipe.transform(new Date(this.reservation.collectTime), 'dd.MM.yyyy')\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reservation/reservation.ts","import {Component, OnInit} from \"@angular/core\";\nimport {Alert, AlertController, Loading, NavParams} from \"ionic-angular\";\nimport {Restaurant} from \"../../model/Restaurant\";\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {LoadingService} from \"../../shared/loading.service\";\nimport {Error} from \"tslint/lib/error\";\nimport {FavorizeService} from \"../../shared/favorize.service\";\n\n/**\n * This pages displays the information of a restaurant.\n * @author Sergej Bardin - Skanny Morandi\n */\n@Component({\n    templateUrl: 'restaurant.html'\n    })\n\nexport class RestaurantPage implements OnInit {\n\n    public restaurant: Restaurant;\n    public openingTime: Object[];\n    private strErrorFavorize: string;\n    private strErrorDeFavorize: string;\n    private strError: string;\n\n    constructor(private navParams: NavParams,\n                private fav: FavorizeService,\n                private loading: LoadingService,\n                private alertCtrl: AlertController,\n                private translate: TranslateService) {\n        this.restaurant = navParams.get(\"restaurant\");\n        this.openingTime = this.restaurant.timeSchedules;\n    }\n\n    public ngOnInit(): void {\n        this.translate.get('Error.favorize').subscribe(\n            (res: string) => {\n                this.strErrorFavorize = res;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.favorize.\", err);\n            }\n        );\n        this.translate.get('Error.general').subscribe(\n            (res: string) => {\n                this.strError = res;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.general.\", err);\n            }\n        );\n        this.translate.get('Error.deFavorize').subscribe(\n            (res: string) => {\n                this.strErrorDeFavorize = res;\n                },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.deFavorize.\", err);\n            }\n        );\n    }\n\n    /**\n     * Toggles the isFavorite status of the restaurant and also sends this to the server.\n     * Shows a loading animation while request is running\n     * @author Skanny Morandi\n     */\n    public toggleIsFavorite(): void {\n        // prepare loader\n        const loader: Loading = this.loading.prepareLoader();\n        loader.present();\n\n        // unset as favorite if already favorite\n        if (this.restaurant.isFavorite) {\n            this.fav.toggleFavorize(this.restaurant.isFavorite, this.restaurant.id)\n                .timeout(8000)\n                .subscribe(\n                    resp => {\n                        if (resp) {\n                            this.restaurant.isFavorite = false;\n                            loader.dismiss();\n                        } else {\n                            const alert: Alert = this.alertCtrl.create({\n                                title: this.strError,\n                                message: this.strErrorDeFavorize,\n                                buttons: [{\n                                    text: 'Ok',\n                                    role: 'cancel'\n                                }]\n                            });\n                            alert.present();\n                        }\n                    },\n                    err => {\n                        loader.dismiss();\n                        console.error(\"Defavorize restaurant failed.\", err);\n                        const alert: Alert = this.alertCtrl.create({\n                            title: this.strError,\n                            message: this.strErrorDeFavorize,\n                            buttons: [{\n                                text: 'Ok',\n                                role: 'cancel'\n                            }]\n                        });\n                        alert.present();\n                    });\n        // if not yet set as favorite, set it\n        } else {\n          this.fav.toggleFavorize(this.restaurant.isFavorite, this.restaurant.id).timeout(8000)\n            .subscribe(\n              resp => {\n                if (resp){\n                  this.restaurant.isFavorite = true;\n                  loader.dismiss();\n                } else {\n                  loader.dismiss();\n                  const alert: Alert = this.alertCtrl.create({\n                    title: this.strError,\n                    message: this.strErrorDeFavorize,\n                    buttons: [{\n                      text: 'Ok',\n                      role: 'cancel'\n                    }]\n                  });\n                  alert.present();\n                }\n              }, err => {\n                loader.dismiss();\n                console.error(\"Defavorize restaurant failed.\", err);\n                const alert: Alert = this.alertCtrl.create({\n                  title: this.strError,\n                  message: this.strErrorDeFavorize,\n                  buttons: [{\n                    text: 'Ok',\n                    role: 'cancel'\n                  }]\n                });\n                alert.present();\n              });\n\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/restaurant/restaurant.ts","import {Component} from \"@angular/core\";\nimport {FilterPopoverService} from \"../home/FilterPopoverService\";\nimport {AuthService} from \"../../shared/auth.service\";\nimport {TranslateService} from \"@ngx-translate/core\";\n\n@Component({\n    templateUrl: \"../home/FilterPopoverComponent.html\"\n})\nexport class FilterPopoverComponent {\n\n    constructor(public service: FilterPopoverService,\n                public auth: AuthService,\n                public translate: TranslateService) {\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/FilterPopoverComponent.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import {Injectable} from '@angular/core';\nimport 'rxjs/add/operator/map';\nimport {Loading, LoadingController} from \"ionic-angular\";\n/**\n * Creating the loading animation\n * @author Skanny Morandi\n */\n@Injectable()\nexport class LoadingService {\n\n    constructor(public loadingCtrl: LoadingController) {\n    }\n    public prepareLoader(): Loading {\n        return this.loadingCtrl.create({\n            spinner: \"circles\"\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/loading.service.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { timer } from 'rxjs/observable/timer';\nimport { TabsPage } from '../pages/tabs/tabs';\n\n@Component({\n  templateUrl: 'app.html'\n\n})\nexport class MyApp {\n  rootPage: any = TabsPage;\n\n  showSplash = true;\n\n  constructor(platform: Platform,\n              statusBar: StatusBar,\n              splashScreen: SplashScreen,\n              ) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n\n      statusBar.styleDefault();\n      splashScreen.hide();\n\n      timer(3000).subscribe(() => this.showSplash = false)\n    });\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","\nimport {HttpClient, HttpHeaders, HttpResponse} from \"@angular/common/http\";\nimport {Restaurant} from \"../model/Restaurant\";\nimport {Observable} from \"rxjs/Observable\";\nimport {SERVER_URL} from \"../app/app.module\";\nimport {Reservation} from \"../model/Reservation\";\nimport {KitchenType} from \"../model/KitchenType\";\nimport {AuthService} from \"./auth.service\";\nimport {Injectable} from \"@angular/core\";\n\n/**\n * Service to get certain Information about Reservations, Offers ... via Rest\n *\n * @author Paul Mandl\n */\n\n@Injectable()\nexport class InformationService {\n\n  public restaurant: Restaurant;\n\n  constructor(private http: HttpClient, private auth: AuthService) {\n\n  }\n\n\n  /*\n   * Method to get the Reservations of the User\n   *\n   * @return: Observable<HttpResponse<Offer[]>>\n   */\n  public loadCustomerReservations(): Observable<Reservation[]>{\n    const headers: HttpHeaders = this.auth.prepareHttpOptions();\n    return this.http.get<Reservation[]>(`${SERVER_URL}/api/getCustomerReservations`, {headers});\n  }\n\n  /*\n  * Method to get the Bonus Points of the User\n  *\n  * @return: Observable<HttpResponse<any[]>>\n  */\n  public loadPoints () : Observable<any[]> {\n    //prepare http-options\n    const headers: HttpHeaders = this.auth.prepareHttpOptions();\n    return this.http.get<any[]>(`${SERVER_URL}/api/get_points`, {headers})\n  }\n\n  /*\n  * Method to get the Kitchentypes\n  *\n  * @return: Observable<HttpResponse<KitchenType[]>>\n  */\n  public loadKitchenTypes(): Observable<KitchenType[]>{\n    return this.http.get<KitchenType[]>(`${SERVER_URL}/api/kitchen_types`);\n  }\n\n  public loadAllergenics():  Observable<Observable<string>>{\n\n    return this.http.get<Observable<string>>(`${SERVER_URL}/api/all_allergenic`);\n  }\n\n  public loadAdditives(): Observable<Observable<string>>{\n\n    return this.http.get<Observable<string>>(`${SERVER_URL}/api/all_additives`);\n\n  }\n\n  public loadRestaurants(latLng: { lat: number, lng: number }, rad: number): Observable<Restaurant[]>{\n\n    const headers: HttpHeaders = this.auth.prepareHttpOptions();\n\n    return this.http.get<Restaurant[]>(`${SERVER_URL}/api/restaurants?latitude=${latLng.lat}&longitude=${latLng.lng}&radius=${rad}`,\n      {headers})\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/information.service.ts","import {Component, ElementRef, NgZone, OnInit, ViewChild} from \"@angular/core\";\nimport {Alert, AlertController, IonicPage, Loading, NavController, Platform, Popover, PopoverController} from \"ionic-angular\";\nimport {OffersPage} from \"../offers/offers\";\nimport {Restaurant} from \"../../model/Restaurant\";\nimport {FilterPopoverComponent} from \"./FilterPopoverComponent\";\nimport {FilterPopoverService} from \"./FilterPopoverService\";\nimport {LoadingService} from \"../../shared/loading.service\";\nimport {InformationService} from \"../../shared/information.service\";\nimport {TranslateService} from '@ngx-translate/core';\n\nimport {KitchenType} from \"../../model/KitchenType\";\nimport 'rxjs/add/operator/retry';\nimport 'rxjs/add/operator/timeout';\nimport {Network} from \"@ionic-native/network\";\nimport {Subscription} from \"rxjs/Subscription\";\nimport { Observable } from 'rxjs/Observable';\nimport {DailyPushNotificationData} from \"../../model/DailyPushNotificationData\";\nimport {PushService} from \"../../shared/push.service\";\nimport {ChooseLoginPage} from \"../choose-login/choose-login\";\nimport {AuthService} from \"../../shared/auth.service\";\n\n\n\n// this is needed for google maps plugin v2\n// noinspection TsLint\ndeclare const plugin: any;\n// noinspection TsLint\ndeclare const cordova: any;\n\ndeclare var google: any;\n\n// constant used in this class - sets default map zoom level\nconst MAP_DEFAULT_ZOOM_LEVEL: number = 15;\n\n\n\n/**\n * This Page displays the map and all restaurants on it.\n * It features filtering of the restaurants as well as manually setting your location\n *\n * Important Note: In order to get this to work on both iOS and Android devices, a beta-version of the cordova-plugin-googlemaps was used.\n * It could become unstable at some time, so please look at the package-lock.json if your version differs from the tested one.\n * Switch to a stable version of the v2-maps as soon as it is released (\n *\n * @author David Sautter\n */\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage implements OnInit {\n\n  // represents array of unfiltered restaurants\n  public allRestaurants: Restaurant[];\n\n  // reference to the rendered map HTML-element\n  @ViewChild('map') public theMap: ElementRef;\n  @ViewChild('searchbar', { read: ElementRef }) searchbar: ElementRef;\n  addressElement: HTMLInputElement = null;\n\n  // noinspection TsLint - no types for current plugin-googlemaps available\n  map: any;\n  // boolean for the Adressinputfield\n  search: boolean = false;\n  // noinspection TsLint - no types for current plugin-googlemaps available\n  private mapMarkers: any[] = [];\n\n  private location: {lat: number, lng: number};\n\n  // initialize the strings to translate with the default values\n  // noinspection TsLint\n  private translatedStrs = {\n    phone: \"Tel.\",\n    address: \"Adresse\",\n    distance: \"Entfernung\",\n    kitchen: \"Küche\",\n    isClosed: \"Derzeit geschlossen\",\n    isOpen: \"Jetzt geöffnet\",\n    retry: \"retry\",\n    'Error.serviceNotAvailable': 'Error: Service not available!',\n    'Error.general': 'General Error',\n    close: \"close\"\n  };\n\n  constructor(private navCtrl: NavController,\n              private auth: AuthService,\n              private push: PushService,\n              private popCtrl: PopoverController,\n              private popService: FilterPopoverService,\n              private platform: Platform,\n              private zone: NgZone,\n              private loading: LoadingService,\n              private alertCtrl: AlertController,\n              private translate: TranslateService,\n              private network: Network,\n              private info: InformationService) {\n\n\n    // load the map as soon as the platform is ready\n    this.platform.ready().then(\n\n      () => {\n        // translate needed strings for info-window\n                this.loadMap();\n                this.initAutocomplete();\n      },\n      (err: Error) => {\n        console.error(\"Platform did not become ready!\", err);\n        alert(\"A fatal Error occured, the app will be closed!\");\n        platform.exitApp();\n      });\n  }\n\n  /**\n   * When initialized, do the translation of the needed strings.\n   */\n\n  public ngOnInit(): void {\n      // translate needed strings for info-window\n      Object.keys(this.translatedStrs).forEach((key: string) => {\n        this.translate.get(key)\n          .subscribe(\n            (transStr: string) => this.translatedStrs[key] = transStr,\n            (err: Error) => {\n              // this should not be happening, because if translate does not\n              // find strings, it uses the key. However something could be wrong...\n              console.error(`Error: tranlate.get did fail for key ${key} with error: `, err);\n            }\n          );\n      });\n  }\n\n  // noinspection JSUnusedGlobalSymbols - this is an ionic view lifecycle method so it is indeed used.\n  /**\n   * The Map must always be clickable when entering this page.\n   */\n  public ionViewDidEnter(): void {\n    if (this.map) {\n      this.map.setClickable(true);\n      cordova.fireDocumentEvent('plugin_touch', {});      // gives native map focus\n    }\n  }\n\n  /**\n   * Construct and open the filter popup-dialog.\n   * @param {Event} ev\n   */\n  public openFilterDialog(ev: Event): void {\n    const pop: Popover = this.popCtrl.create(FilterPopoverComponent);\n    pop.present({ev});\n\n    pop.onDidDismiss(() => {\n      this.setRestaurantMarkers(this.filterRestaurants(this.allRestaurants));\n    });\n  }\n\n\n  /**\n   * Applies the filters set in FilterPopoverService to the restaurants\n   * @returns {Restaurant[]} the filtered restaurants to show\n   */\n  private filterRestaurants(allRestaurants: Restaurant[]): Restaurant[] {\n    let newRestaurants: Restaurant[] = allRestaurants;\n      console.log('kitchentypes holen');\n    // filter kitchen types\n    // this assumes, that kitchen-types are ALWAYS set on a restaurant\n    if (this.popService.selectedKitchenTypes) {     // [] is also truthy, but if it is not loaded yet, this will skip\n      newRestaurants = newRestaurants.filter((res: Restaurant) => {\n        return res.kitchenTypes.some((resKitchenType: KitchenType) => {\n          return this.popService.selectedKitchenTypes.some((selKitchenType: KitchenType) => {\n            // at least one kitchentype must be matching the selected ones\n            return resKitchenType.id === selKitchenType.id;\n          });\n        });\n      });\n    }\n\n    // show only currently opened\n    if (this.popService.showOnlyOpened) {\n      newRestaurants = newRestaurants.filter((res: Restaurant) => res.currentlyOpen);\n    }\n\n    // show only favorites\n    if (this.popService.showOnlyFavorites) {\n      newRestaurants = newRestaurants.filter((res: Restaurant) => res.isFavorite);\n    }\n\n    return newRestaurants;\n  }\n\n  /**\n   * Checks the internet connection and if it is ok,\n   * initializes the Map and positions the current device on it.\n   */\n  loadMap(): void {\n    // no connection or not good enough\n    // check internet connection\n    if (!(this.network.type.match(/^(3g|4g|wifi)$/))) {\n\n      const alert: Alert = this.alertCtrl.create({\n        title: this.translatedStrs['Error.general'],\n        subTitle: this.translatedStrs['Error.serviceNotAvailable'],\n        buttons: [\n          {\n            text: this.translatedStrs.close,\n            role: 'cancel',\n            handler: (): void => {\n              this.platform.exitApp();\n            }\n          },\n          {\n            text: this.translatedStrs.retry,\n            handler: (): void => {\n              // watch network for a connection\n              const connectSubscription: Subscription = this.network.onConnect().subscribe(() => {\n                connectSubscription.unsubscribe();\n\n                // need to wait a bit before determining network type again\n                setTimeout(() => this.loadMap(), 3000);         // recursive call!\n              });\n            }\n          }\n        ]\n      });\n\n      alert.present();\n\n    } else {\n\n      var element = this.theMap.nativeElement;\n      this.map = plugin.google.maps.Map.getMap(element, {\n        controls: {\n          compass: true,\n          myLocation: true,\n          myLocationButton: true,\n          indoorPicker: true,\n          disableDoubleClickZoom: false,\n          zoom: true,\n          mapToolbar: true   // currently Android only\n        },\n        gestures: {\n          scroll: true,\n          tilt: true,\n          rotate: true,\n          zoom: true\n        }\n      });\n\n      // listen to MAP_READY event\n      // You must wait for this event to fire before adding something to the map or modifying it in anyway\n      this.map.one(plugin.google.maps.event.MAP_READY, () => {\n          // noinspection TsLint - no types for current plugin-googlemaps available\n          this.map.getMyLocation(\n            null,\n            (pos: any) => {\n              // get restaurants around this location\n              // currently, all restaurants are fetched, but I leave this code here (though it's slower this way),\n              // because once you start really filtering restaurants based on the location, you'll need it here.\n              console.log('Fetch Restaurants');\n              this.location = pos.latLng;\n\n              this.fetchRestaurants(pos.latLng);\n              // move map to current location\n              // noinspection TsLint - no types for current plugin-googlemaps available\n              const camPos = {\n                target: pos.latLng,\n                zoom: MAP_DEFAULT_ZOOM_LEVEL\n              };\n              this.map.moveCamera(camPos);\n            },\n            (err: Error) => {\n              console.error(\"Error getting location: \", err);\n              this.search = true;\n            });\n        }\n      );\n    }\n  }\n\n  createAutocomplete(addressEl: HTMLInputElement): Observable<any> {\n    const autocomplete = new google.maps.places.Autocomplete(addressEl);\n    autocomplete.bindTo(this.map);\n    return new Observable((sub: any) => {\n      google.maps.event.addListener(autocomplete, 'place_changed', () => {\n        const place = autocomplete.getPlace();\n        if (!place.geometry) {\n          sub.error({\n            message: 'Autocomplete returned place with no geometry'\n          });\n        } else {\n          console.log('Search Lat', place.geometry.location.lat());\n          console.log('Search Lng', place.geometry.location.lng());\n          sub.next(place.geometry.location);\n         // sub.complete();\n        }\n      });\n    });\n  }\n\n  initAutocomplete(): void {\n    this.addressElement = this.searchbar.nativeElement.querySelector('.searchbar-input');\n    this.createAutocomplete(this.addressElement).subscribe((location) => {\n      console.log('Searchdata', location);\n\n      let options = {\n        center: location,\n        zoom: 10\n      };\n      this.map.setOptions(options);\n      this.fetchRestaurants(location);\n    });\n  }\n\n\n  /**\n   * Fetches the restaurants from the server using the provided coordinates. Initiates a loading\n   * animation while fetching. It also triggers filtering the restaurants after they were fetched.\n   * @param latLng location of type LatLng\n   *\n   *\n   */\n  private fetchRestaurants(latLng: { lat: number, lng: number }): void {\n\n    // setup loading spinner\n    const loader: Loading = this.loading.prepareLoader();\n    loader.present().then(() => {\n\n      // do not filter by radius, because there are just a few restaurants.\n      // in the future it could filter by using the visible map-area.\n      this.info.loadRestaurants(latLng, 99999).timeout(15000)\n        .subscribe(\n        res => {\n          this.zone.run(() => {\n            loader.dismiss();\n            this.allRestaurants = res;\n            console.log(this.allRestaurants.toString());\n            this.setRestaurantMarkers(this.allRestaurants);\n          });\n\n        },\n        err => {\n          loader.dismiss();\n          console.error(\"Error fetching restaurants\", err);\n\n          // Prompt user. Actions: Retry, Close App\n          const alert: Alert = this.alertCtrl.create({\n            title: this.translatedStrs['Error.general'],\n            subTitle: this.translatedStrs['Error.serviceNotAvailable'],\n            buttons: [\n              {\n                text: this.translatedStrs.close,\n                role: 'cancel',\n                handler: (): void => {\n                  this.platform.exitApp();\n                }\n              },\n              {\n                text: this.translatedStrs.retry,\n                handler: (): void => {\n                  this.fetchRestaurants(latLng);      // recursive call, if the user selects retry\n                }\n              }\n            ]\n\n          });\n          alert.present();\n        }\n      );\n    });\n  }\n\n\n  /**\n   *  Shows markers for the provided restaurants\n   */\n  private setRestaurantMarkers(restaurants: Restaurant[]): void {\n    // remove old markers\n    // noinspection TsLint - no types for current plugin-googlemaps available\n    this.mapMarkers.forEach((marker: any) => {\n      marker.remove();\n    });\n\n    // draw new markers\n    restaurants.forEach((restaurant: Restaurant) => {\n      try {\n        // noinspection TsLint - no types for current plugin-googlemaps available\n        this.map.addMarker({\n          position: {lat: restaurant.locationLatitude, lng: restaurant.locationLongitude},\n          icon: 'http://maps.google.com/mapfiles/kml/paddle/grn-stars.png'\n        }, (marker: any) => {\n          // add html info window\n          // noinspection TsLint - no types for current plugin-googlemaps available\n          const htmlInfoWindow: any = new plugin.google.maps.HtmlInfoWindow();\n\n          const infoDiv: HTMLElement = document.createElement(\"div\");\n\n          // costruct the html-info-window content and fill with data\n          // noinspection TsLint\n          infoDiv.innerHTML = `<div style=\"display: inline-block\">\n<div style=\"font-size: large; font-weight: bold; margin-bottom: 5px\">${restaurant.name}</div>\n<div style=\"display: inline-block\">${this.translatedStrs.address}: ${restaurant.street} ${restaurant.streetNumber}<br/>\n${this.translatedStrs.phone}: ${restaurant.phone}<br/>\n${this.translatedStrs.kitchen}: ${restaurant.kitchenTypes.map(kitType => kitType.name).join(', ')}<br/>\n${this.translatedStrs.distance}: ${restaurant.distance}m<br/>\n<span style=\"color: ${restaurant.currentlyOpen === true ? \"green\" : \"red\"}\">${restaurant.currentlyOpen === true ? this.translatedStrs.isOpen : this.translatedStrs.isClosed}</span><div/>\n</div>`;\n          infoDiv.addEventListener(\"click\", () => {\n            this.zone.run(() => {\n              this.navCtrl.push(OffersPage, {restaurant: restaurant}, {animate: false});\n            });\n          });\n\n          // marker size and styling must be done manually\n          infoDiv.style.maxWidth = \"85%\";\n          infoDiv.style.display = \"inline-block\";\n          infoDiv.style.padding = \"0\";\n\n          // append this to the DOM for a short time to be able to calculate offsetHeight and -Width\n          this.theMap.nativeElement.appendChild(infoDiv);\n          infoDiv.style.height = `${infoDiv.offsetHeight + 1}px`;\n          infoDiv.style.width = `${infoDiv.offsetWidth + 4}px`;\n          this.theMap.nativeElement.removeChild(infoDiv);\n\n          infoDiv.style.maxWidth = \"none\";\n          infoDiv.style.margin = \"6px\";\n\n          htmlInfoWindow.setContent(infoDiv);\n\n          marker.on(plugin.google.maps.event.MARKER_CLICK, () => {\n            htmlInfoWindow.open(marker);\n          });\n\n          // add marker to the map\n          this.mapMarkers.push(marker);\n        });\n      } catch (err) {\n        console.error(\"Error adding marker for restaurant\", restaurant, err);\n      }\n    });\n  }\n\n\n  /**\n   * Show the dialog for putting in an address, that will set the custom location\n  */\n  toggleSearch() {\n    if (this.search) {\n      this.search = false;\n    } else {\n      this.search = true;\n    }\n  }\n\n  registerPush() {\n\n    if (this.auth.getLoggedIn()) {\n\n\n      var pushData: DailyPushNotificationData = {\n        latitude: this.location.lat,\n        longitude: this.location.lng,\n        radius: 99999,\n        title: \"\",\n        fcmToken: \"\",\n        user: this.auth.getUser()\n      };\n      console.log('im ersten push');\n      this.push.registerPush(pushData);\n    }\n     else {\n      const alert: Alert = this.alertCtrl.create({\n        title: \"Fast geschafft!\",\n        subTitle: \"Du bist fast soweit. Um Push-Benachrichtigungen anlegen zu können, musst du dich nur noch anmelden.\",\n        buttons: [\n          {\n            text: \"Ok\",\n            role: 'cancel'\n          },\n          {\n            text: \"Jetzt anmelden\",\n            handler: (): void => {\n              this.navCtrl.push(ChooseLoginPage);\n            }\n          }\n        ]\n      });\n      alert.present();\n    }\n\n  }\n/*\n * TODO: Aktivieren\n * Fürs erste ungenutzt, da Push-Benachrichtigungen an allen Tagen gesendet werden\n */\n  public showCheckbox<alert>() {\n    let alert = this.alertCtrl.create();\n    alert.setTitle('An welchen Tagen würdest du gerne eine Benachrichtigung über die aktuellen Angebote haben?');\n\n    alert.addInput({\n      type: 'checkbox',\n      label: 'Montag',\n      value: 'value1',\n    });\n\n    alert.addInput({\n      type: 'checkbox',\n      label: 'Dienstag',\n      value: 'value2'\n    });\n\n    alert.addInput({\n      type: 'checkbox',\n      label: 'Mittwoch',\n      value: 'value3'\n    });\n\n    alert.addInput({\n      type: 'checkbox',\n      label: 'Donnerstag',\n      value: 'value4'\n    });\n\n    alert.addInput({\n      type: 'checkbox',\n      label: 'Freitag',\n      value: 'value5'\n    });\n\n    alert.addInput({\n      type: 'checkbox',\n      label: 'Samstag',\n      value: 'value6'\n    });\n    alert.addInput({\n      type: 'checkbox',\n      label: 'Sonntag',\n      value: 'value7'\n    });\n\n    return alert;\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import {Injectable} from '@angular/core';\nimport 'rxjs/add/operator/map';\nimport {Push, PushObject, PushOptions, EventResponse} from \"@ionic-native/push\";\nimport {FCM} from \"@ionic-native/fcm\";\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\nimport {SERVER_URL, APP_LANG, FCM_SENDER_ID} from \"../app/app.module\";\nimport {Alert, AlertController, Platform} from \"ionic-angular\";\nimport {Error} from \"tslint/lib/error\";\nimport {AuthService} from \"./auth.service\"\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {User} from \"../model/User\";\nimport {DailyPushNotificationData} from \"../model/DailyPushNotificationData\";\n\n\n/**\n * Initializing push and notification settings.\n * @author Sergej Bardin\n */\n@Injectable()\nexport class PushService {\n\n    private pushObject: PushObject;\n    private strPushError: string;\n    private strError: string;\n\n    constructor(public push: Push,\n                private alertCtrl: AlertController,\n                private auth: AuthService,\n                private http: HttpClient,\n                private translate: TranslateService,\n                private platform: Platform,\n                private fcm: FCM) {\n        this.translate.setDefaultLang(APP_LANG);\n        this.translate.get('Error.pushReg').subscribe(\n            (value: string) => {\n                this.strPushError = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.pushReg.\", err);\n            }\n        );\n        this.translate.get('Error.general').subscribe(\n            (value: string) => {\n                this.strError = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.general.\", err);\n            }\n        );\n        this.platform.ready().then(\n            () => {\n                const pushOptions: PushOptions = {\n                    android: {\n                        senderID: FCM_SENDER_ID,\n                        vibrate: true\n                    },\n                    ios: {\n                        alert: 'false',\n                        badge: true,\n                        sound: 'true'\n                    }\n                };\n                this.pushObject = this.push.init(pushOptions);\n                this.notificationSetup();\n            },\n            (err: Error) => {\n                console.error(\"Platform did not become ready!\", err);\n                const alert: Alert = this.alertCtrl.create({\n                    title: this.strError,\n                    message: this.strPushError,\n                    buttons: [{\n                        text: 'Ok',\n                        role: 'cancel'\n                    }]\n                });\n                alert.present();\n            });\n    }\n\n    /**\n     *  Setup of the display settings of the push notification\n     */\n    public notificationSetup(): void {\n        //noinspection TsLint\n        this.fcm.onNotification().subscribe(\n            (data => {\n              const alert: Alert = this.alertCtrl.create({\n                title: \"Bestellstatus geändert\",\n                message: \"Der Status deiner Bestellung hat sich geändert. Du kannst ihn unter 'Meine Bestellungen' einsehen.\",\n                buttons: [{\n                  text: 'Ok',\n                  role: 'cancel'\n                },{\n                  text: 'Meine Bestellungen',\n                  handler: (): void => {\n                    this.openReservations();\n                  }\n                }]\n              });\n              alert.present();\n                if (data.wasTapped) {\n\n                } else {\n                    console.warn(\"Not logged in or push permission NOT granted, reservation confirmation can not received!\");\n                };\n            })\n        );\n    }\n\n    /**\n     * Register push token at backend, when user is logged in\n     */\n    public pushSetup(user: User): void {\n\n            const headers = new HttpHeaders({\n                'Content-Type': 'application/json',\n\n            });\n        this.platform.ready().then(\n          () => {\n            this.fcm.getToken().then(token => {\n\n              this.http.put(`${SERVER_URL}/api/submitToken/${token}`, user, {headers})\n                .retry(2)\n                .subscribe(\n                  res => {\n                    console.warn(\"Device registered at firebase and backend\");\n                    this.notificationSetup();\n                  },\n                  err => {\n                    console.error(err);\n                    const alert: Alert = this.alertCtrl.create({\n                      title: this.strError,\n                      message: this.strPushError,\n                      buttons: [{\n                        text: 'Ok',\n                        role: 'cancel'\n                      }]\n                    });\n                    alert.present();\n                  }\n                );\n            });\n          }, err => {\n            console.error(\"Platform did not become ready!\", err);\n            const alert: Alert = this.alertCtrl.create({\n              title: this.strError,\n              message: this.strPushError,\n              buttons: [{\n                text: 'Ok',\n                role: 'cancel'\n              }]\n            });\n            alert.present();\n          });\n    }\n\n    /*\n    Method to register the daily push notification via REST\n    @param pushData the data that the notification needs\n    @param user Username and Password of the user that is currently logged in\n    @rest: /api/register_push\n     */\n    public registerPush(pushData: DailyPushNotificationData){\n\n      console.log('im dritten push');\n      const encodedCredentials: string = btoa(`${pushData.user.username}:${pushData.user.password}`);\n      const headers = new HttpHeaders({\n        'Content-Type': 'application/json',\n        Authorization: `Basic ${encodedCredentials}`\n      });\n\n\n      this.fcm.getToken().then(token => {\n\n        console.log('im zweiten push');\n        pushData.fcmToken = token;\n\n        this.http.post(`${SERVER_URL}/api/register_push`, pushData, {headers}).retry(2).subscribe(\n          res => {\n            console.log('im vierten push');\n            const alert: Alert = this.alertCtrl.create({\n              title: \"Push Benachrichtigung angelegt!\",\n              message: \"Ihre Anfrage auf regelmäßige Push Benachrichtigungen wurde erfolgreichverarbeitet! \",\n              buttons: [{\n                text: 'Ok',\n                role: 'cancel'\n              }]\n            });\n            alert.present();\n          }, err => {\n            console.error(err);\n            const alert: Alert = this.alertCtrl.create({\n              title: this.strError,\n              message: \"Push Benachrichtigungen konnten nicht angelegt werden, es ist ein Fehler aufgetreten.\",\n              buttons: [{\n                text: 'Ok',\n                role: 'cancel'\n              }]\n            });\n            alert.present();\n      })\n      })\n    }\n\n    private openReservations() {\n\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/push.service.ts","import {Injectable} from \"@angular/core\";\nimport {Offer} from \"../model/Offer\";\n\n/**\n * Manages all carts for all restaurants (not just one).\n * The carts are not stored in localStorage etc, just in the RAM, so they are lost on reload.\n *\n * @author David Sautter\n */\n@Injectable()\nexport class CartService {\n\n    // a map holding all carts for all restaurants. The key is the restaurant-id.\n    private carts: Map<number, Offer[]>;\n\n    constructor() {\n        this.carts = new Map();\n    }\n\n\n    /**\n     * Gets a existing cart or creates one if none exists.\n     *\n     * @param restaurantId id of the restaurant to create this cart for\n     * @returns {Offer[]} cart for this restaurant\n     */\n    public getCart(restaurantId: number): Offer[] {\n        return this.carts.get(restaurantId) || this.createCart(restaurantId);\n    }\n\n\n    /**\n     * Calculates the size of the cart.\n     * If multiple items of one offer are in the cart, it will sum up the items.\n     *\n     * @param restaurantId id of the restaurant to identify the right cart\n     * @returns {number} amount of items in cart\n     */\n    public getCartItemCount(restaurantId: number): number {\n        return this.getCart(restaurantId)\n            .map((offer: Offer) => offer.amount)\n            .reduce((prevAmount: number, amount: number) => prevAmount + amount, 0);\n    }\n\n\n    /**\n     * Adding an offer to a specific cart. It either increases the amount of this offer by 1\n     * or pushes a new offer to this cart with amount 1, if it doesn't exist in this cart yet.\n     *\n     * @param restaurantId id of the restaurant to identify the right cart\n     * @param offer the offer that shall be added to the cart\n     */\n    public addItemToCart(restaurantId: number, offer: Offer): void {\n        const item: Offer = this.getCart(restaurantId)\n            .find((offerInCart: Offer) => offerInCart.id === offer.id);\n\n        if (item) {\n            item.amount++;\n\n        } else {\n            offer.amount = 1;\n            this.getCart(restaurantId).push(offer);\n        }\n    }\n\n\n    /**\n     * Convenience-method for removing all items from a given cart (mostly after sending the order).\n     * Internally it just creates a new cart for this restaurant, so the old one gets garbage collected.\n     *\n     * @param restaurantId id of the restaurant to identify the right cart\n     */\n    public emptyCart(restaurantId: number): void {\n        this.createCart(restaurantId);\n    }\n\n    /**\n     * Creates a new cart for the provided restaurant and returns it.\n     *\n     * @param restaurantId id of the restaurant to identify the right cart\n     * @returns {Offer[]} the new cart\n     */\n    private createCart(restaurantId: number): Offer[] {\n        this.carts.set(restaurantId, []);\n        return this.carts.get(restaurantId);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/cart.service.ts","\n\nimport {Component, OnInit} from \"@angular/core\";\nimport {Alert, AlertController, Loading, NavController, NavParams, Toast, ToastController, IonicPage} from \"ionic-angular\";\nimport {AuthService} from \"../../shared/auth.service\";\nimport {SERVER_URL} from \"../../app/app.module\";\nimport {LoadingService} from \"../../shared/loading.service\";\nimport {AccountDetailsPage} from \"../account-details/account-details\";\nimport {TranslateService} from '@ngx-translate/core';\nimport {PushService} from \"../../shared/push.service\";\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\nimport {User} from \"../../model/User\";\n\n\n/**\n * Generated class for the AccountPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-account',\n  templateUrl: 'account.html',\n\n})\nexport class AccountPage implements OnInit{\n\n  private goBack: boolean;\n  private counterPasswordWrong: number = 0;\n  private strLoginError: string;\n  private strLoginSuccessful: string;\n  private strConnectionError: string;\n  private strPasswordResetSuccess: string;\n  private strError: string;\n\n  constructor(public navCtrl: NavController,\n              private toastCtrl: ToastController,\n              private auth: AuthService,\n              private http: HttpClient,\n              private push: PushService,\n              private alertCtrl: AlertController,\n              private loading: LoadingService,\n              private translate: TranslateService\n              ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AccountPage');\n  }\n\n  /*\n  *\n  * Once the Page is initialized all the translations will be done\n   */\n  public ngOnInit(): void {\n    this.translate.get('Error.login').subscribe(\n      (value: string) => {\n        this.strLoginError = value;\n      },\n      (err: Error) => {\n        console.error(\"Error: translate.get did fail for key Error.login.\", err);\n      });\n    this.translate.get('Error.general').subscribe(\n      (value: string) => {\n        this.strError = value;\n      },\n      (err: Error) => {\n        console.error(\"Error: translate.get did fail for key Error.general.\", err);\n      });\n    this.translate.get('Success.login').subscribe(\n      (value: string) => {\n        this.strLoginSuccessful = value;\n      },\n      (err: Error) => {\n        console.error(\"Error: translate.get did fail for key Success.login.\", err);\n      });\n    this.translate.get('Error.connection').subscribe(\n      (value: string) => {\n        this.strConnectionError = value;\n      },\n      (err: Error) => {\n        console.error(\"Error: translate.get did fail for key Error.connection.\", err);\n      });\n    this.translate.get('Success.passwordReset').subscribe(\n      (value: string) => {\n        this.strPasswordResetSuccess = value;\n      },\n      (err: Error) => {\n        console.error(\"Error: translate.get did fail for key Success.passwordReset.\", err);\n      });\n  }\n  onGoBackAction(){\n      this.navCtrl.pop();\n  }\n  /**\n   * Logs the user in. LoggedIn is stateless (without session etc.).\n   * If the authentication fails it activates the password reset button.\n   *\n   * @param userName\n   * @param password\n   */\n  onLogInAction(userName: string, password: string): void {\n\n    const user: User = {\n      username: userName,\n      password: password\n    };\n\n\n    const encodedCredentials: string = btoa(`${userName}:${password}`);\n    const loader: Loading = this.loading.prepareLoader();\n    loader.present().then(() => {\n      this.auth.login(userName, password)\n        .subscribe(\n          resp  => {\n            window.localStorage.setItem(\"username\", userName);\n            window.localStorage.setItem(userName, encodedCredentials);\n            this.auth.userName = window.localStorage.getItem(\"username\");\n            this.auth.loggedIn = true;\n\n              const toast: Toast = this.toastCtrl.create({\n                message: this.strLoginSuccessful,\n                duration: 3000\n              });\n              toast.present();\n              this.push.pushSetup(user);\n              // When comeBack is true, after login user is sent back to the view he came from\n              if (this.goBack) {\n                this.navCtrl.pop();\n                loader.dismiss();\n\n              } else {\n                // else go to the accountdetails\n                this.navCtrl.push(AccountDetailsPage);\n                console.log(\"Opening AccountDetailsPage\");\n                loader.dismiss();\n              }\n          },\n          err => {\n            this.counterPasswordWrong++;\n            loader.dismiss();\n            console.error(\"Login failed!\", err);\n            const alert: Alert = this.alertCtrl.create({\n              title: this.strError,\n              message: this.strLoginError,\n              buttons: [{\n                text: 'Ok',\n                role: 'cancel'\n              }]\n            });\n            alert.present();\n          }\n        );\n    });\n\n  }\n\n  /**\n   * Checks whether there is a string in the user name field and whether password was\n   * entered wrong\n   * @param username = email address of user\n   */\n  public isEmptyUser(username: string): boolean {\n    return !(username && this.counterPasswordWrong >= 1);\n  }\n\n  /**\n   * Requesting a password reset by the backend\n   * @param username = email adress of user\n   */\n  public sendPasswordReset(username: string): void {\n\n      const headers: HttpHeaders = new HttpHeaders({\n        'Content-Type': 'application/json',\n      });\n\n      const loader: Loading = this.loading.prepareLoader();\n      loader.present().then(() => {\n        this.http.post(`${SERVER_URL}/api/get_reset_token`, username, {headers},)\n          .timeout(8000)\n          .subscribe(\n            res => {\n              let msg: string;\n              switch (res) {\n                case 0:\n                  msg = this.strPasswordResetSuccess;\n                  break;\n                default:\n                  msg = this.strConnectionError;\n                  break;\n              }\n              const toast: Toast = this.toastCtrl.create({\n                message: msg,\n                duration: 3000\n              });\n              loader.dismiss();\n              toast.present();\n            },\n            err => {\n              loader.dismiss();\n              console.error(err);\n              const alert: Alert = this.alertCtrl.create({\n                title: this.strError,\n                message: this.strConnectionError,\n                buttons: [{\n                  text: 'Ok',\n                  role: 'cancel'\n                }]\n              });\n              alert.present();\n            }\n          );\n      });\n    }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account/account.ts"," import {Component, ViewChild} from '@angular/core';\nimport {IonicPage, Nav, NavController, NavParams, Toast, ToastController} from 'ionic-angular';\nimport {AuthService} from '../../shared/auth.service';\nimport {QRService} from \"../../pages/bonus/qr.service\";\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {APP_LANG} from \"../../app/app.module\";\nimport {BonusPage} from \"../bonus/bonus\";\nimport {ReservationsPage} from \"../reservations/reservations\";\nimport {HomePage} from \"../home/home\";\n\n/**\n * Generated class for the AccountDetailsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n\n@Component({\n  selector: 'page-account-details',\n  templateUrl: 'account-details.html',\n})\nexport class AccountDetailsPage {\n  @ViewChild(Nav) public nav: Nav;\n\n  rootPage: any = HomePage;\n  private strLogoutSuccess: string;\n\n  constructor(public navCtrl: NavController,\n              public auth: AuthService,\n              public toastCtrl: ToastController,\n              public qr: QRService,\n              private translate: TranslateService) {\n    translate.setDefaultLang(APP_LANG);\n    this.auth.verifyUser();\n\n    document.addEventListener('resume', () => {\n      this.auth.verifyUser();\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AccountDetailsPage');\n\n  }\n  public ngOnInit(): void {\n    this.translate.get('Success.logoutSuccess').subscribe(\n      (value: string) => {\n        this.strLogoutSuccess = value;\n      },\n      (err: Error) => {\n        console.error(\"Error: translate.get did fail for key Success.logoutSuccess.\", err);\n      }\n    );\n  }\n  /**\n   * opens the clicked page. Reset the content nav to have just this page.\n   * @param page\n   *  the page the user clicked\n   */\n\n  openBonusPage() {\n    this.navCtrl.push(BonusPage);\n  }\n\n  openReservationsPage(){\n    this.navCtrl.push(ReservationsPage);\n  }\n\n  logout(){\n    this.auth.logout();\n\n    const toast: Toast = this.toastCtrl.create({\n      message: this.strLogoutSuccess,\n      duration: 3000\n    });\n    toast.present();\n\n    this.navCtrl.pop();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account-details/account-details.ts","\nimport {Component} from \"@angular/core\";\nimport {Alert, AlertController, Loading, NavController, NavParams, Toast, ToastController, IonicPage} from \"ionic-angular\";\nimport {AuthService} from \"../../shared/auth.service\";\nimport {InAppBrowser} from \"@ionic-native/in-app-browser\";\nimport {LoadingService} from \"../../shared/loading.service\";\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {SERVER_URL} from \"../../app/app.module\";\nimport {PushService} from \"../../shared/push.service\";\nimport {TabsPage} from \"../tabs/tabs\";\nimport {User} from \"../../model/User\";\n\nvar emailRegEX = new RegExp(\"^[A-Za-zÄÖÜäöü0-9.!#$%&'*+-/=?^_`{|}~]+@[A-Za-zÄÖÜäöü0-9]+\\\\.[A-Za-z]{2,4}$\")\nvar passwordLowercaseRegEx = new RegExp(\"[a-zäöü]\")\nvar passwordUppercaseRegEx = new RegExp(\"[A-ZÄÖÜ]\")\nvar passwordDigitRegEx = new RegExp(\"[0-9]\")\nvar passwordSpecialRegEx = new RegExp(\"[<>|,;.:\\\\-_#'+*~°!§$%&/()=?\\\"]\")\nvar passwordLengthRegEx = new RegExp(\".{5,}\")\n\n/**\n * Generated class for the RegisterPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html',\n})\nexport class RegisterPage {\n\n\n  private termsAndConditionsChecked: boolean;\n  private goBack: boolean;\n\n  private strNoValidEmail: string;\n  private strNoValidPassword: string;\n  private strUsedEmail: string;\n  private strConnectionError: string;\n  private strConfirmPasswordError: string;\n  private strTermsAndConditionError: string;\n  private strRegisterSuccess: string;\n  private strError: string;\n\n  constructor(private auth: AuthService,\n              private toastCtrl: ToastController,\n              private navCtrl: NavController,\n              private navParams: NavParams,\n              private iab: InAppBrowser,\n              private alertCtrl: AlertController,\n              private loading: LoadingService,\n              private translate: TranslateService,\n              private push: PushService\n              ) {\n    this.goBack = navParams.get(\"comeBack\");\n    this.termsAndConditionsChecked = false;\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad RegisterPage');\n  }\n  onGoBackAction(){\n    this.navCtrl.pop();\n  }\n\n  public ngOnInit(): void {\n    this.translate.get('Error.noValidEmail').subscribe(\n      (value: string) => {\n        this.strNoValidEmail = value;\n      },\n      (err: Error) => {\n        console.error(\"Error: translate.get did fail for key Error.noValidEmail.\", err);\n      }\n    );\n    this.translate.get('Error.general').subscribe(\n      (value: string) => {\n        this.strError = value;\n      },\n      (err: Error) => {\n        console.error(\"Error: translate.get did fail for key Error.general.\", err);\n      }\n    );\n    this.translate.get('Error.noValidPassword').subscribe(\n      (value: string) => {\n        this.strNoValidPassword = value;\n      },\n      (err: Error) => {\n        console.error(\"Error: translate.get did fail for key Error.noValidPassword.\", err);\n      }\n    );\n    this.translate.get('Error.usedEmail').subscribe(\n      (value: string) => {\n        this.strUsedEmail = value;\n      },\n      (err: Error) => {\n        console.error(\"Error: translate.get did fail for key Error.usedEmail.\", err);\n      }\n    );\n    this.translate.get('Error.connection').subscribe(\n      (value: string) => {\n        this.strConnectionError = value;\n      },\n      (err: Error) => {\n        console.error(\"Error: translate.get did fail for key Error.connection.\", err);\n      }\n    );\n    this.translate.get('Error.confirmPassword').subscribe(\n      (value: string) => {\n        this.strConfirmPasswordError = value;\n      },\n      (err: Error) => {\n        console.error(\"Error: translate.get did fail for key Error.confirmPassword.\", err);\n      }\n    );\n    this.translate.get('Error.termsAndCondition').subscribe(\n      (value: string) => {\n        this.strTermsAndConditionError = value;\n      },\n      (err: Error) => {\n        console.error(\"Error: translate.get did fail for key Error.termsAndCondition.\", err);\n      }\n    );\n    this.translate.get('Success.register').subscribe(\n      (value: string) => {\n        this.strRegisterSuccess = value;\n      },\n      (err: Error) => {\n        console.error(\"Error: translate.get did fail for key Success.register.\", err);\n      }\n    );\n  }\n\n\n\n  /**\n   * Username password and password repetitions get checked and registered with the server. If registry not successful\n   * suiting error message gets displayed. if successful, logs in directly and goes either back to orderdetails or\n   * homepage\n   */\n  public onRegisterClicked(username: string, password: string, password2: string): void {\n\n    const user: User = {\n      username: username,\n      password: password\n    };\n\n    if (!this.validEmail(username)) {\n      const toast: Toast = this.toastCtrl.create({\n        message: this.strNoValidEmail,\n        duration: 3000\n      });\n      toast.present();\n    } else if (!this.passwordsIdentical(password, password2)) {\n      const toast: Toast = this.toastCtrl.create({\n        message: this.strConfirmPasswordError,\n        duration: 3000\n      });\n      toast.present();\n\n    } else if (!this.validPassword(password)) {\n      const toast: Toast = this.toastCtrl.create({\n        message: this.strNoValidPassword,\n        duration: 3000\n      });\n      toast.present();\n    } else if (!this.termsAndConditionsChecked) {\n      const toast: Toast = this.toastCtrl.create({\n        message: this.strTermsAndConditionError,\n        duration: 3000\n      });\n      toast.present();\n    } else {\n      const loader: Loading = this.loading.prepareLoader();\n      loader.present().then(() => {\n        this.auth.register(username, password)\n          .subscribe(\n            resp => {\n              const encodedCredentials: string = btoa(`${username}{password}`);\n              window.localStorage.setItem(\"username\", username);\n              window.localStorage.setItem(username, encodedCredentials);\n              this.auth.userName = window.localStorage.getItem(\"username\");\n              this.auth.loggedIn = true;\n              const toast: Toast = this.toastCtrl.create({\n                message: this.strRegisterSuccess,\n                duration: 3000\n              });\n              toast.present();\n              this.push.pushSetup(user);\n\n              //if coming from Orderdetailspage, go back there after registry\n              if (this.goBack) {\n                this.navCtrl.pop();\n                loader.dismiss();\n\n                //else go to Home\n              } else {\n                loader.dismiss();\n                this.navCtrl.setRoot(TabsPage);\n              }\n            },\n            err => {\n              loader.dismiss();\n              let alert: Alert;\n              const body: string = err.toString();\n              console.log(err);\n              switch (body) {\n                case \"1\" :\n                  alert = this.alertCtrl.create({\n                    title: this.strError,\n                    message: this.strNoValidEmail,\n                    buttons: [{\n                      text: 'Ok',\n                      role: 'cancel'\n                    }]\n                  });\n                  alert.present();\n                  break;\n                case \"2\" :\n                  alert = this.alertCtrl.create({\n                    title: this.strError,\n                    message: this.strNoValidPassword,\n                    buttons: [{\n                      text: 'Ok',\n                      role: 'cancel'\n                    }]\n                  });\n                  break;\n                case \"3\" :\n                  alert = this.alertCtrl.create({\n                    title: this.strError,\n                    message: this.strUsedEmail,\n                    buttons: [{\n                      text: 'Ok',\n                      role: 'cancel'\n                    }]\n                  });\n                  break;\n\n                default :\n                  alert = this.alertCtrl.create({\n                    title: this.strError,\n                    message: this.strConnectionError,\n                    buttons: [{\n                      text: 'Ok',\n                      role: 'cancel'\n                    }]\n                  });\n              }\n              alert.present();\n            });\n      });\n    }\n  }\n\n  /**\n   * Opens the terms and conditions site via inapp browser\n   */\n  public goToTermsAndConditions(): void {\n    this.iab.create(`${SERVER_URL}/terms`, \"location=yes\");\n  }\n\n  /**\n   * returns whether entered passwords are identical\n   *\n   * @param password\n   * password first entered\n   * @param password2\n   * password repetition\n   * @returns {boolean}\n   * whether passwords are identical\n   *\n   */\n  private passwordsIdentical(password: string, password2: string): boolean {\n    return (password === password2);\n  }\n\n  /**\n   * returns whether the email is valid\n   *\n   * @param username\n   * email address\n   * @returns {boolean}\n   * wether the email is valid\n   *\n   */\n  private validEmail(username: string){\n    return (username.match(emailRegEX));\n  }\n\n  /**\n   * returns whether the email is valid\n   *\n   * @param password\n   * password\n   * @returns {boolean}\n   * wether the password is valid\n   *\n   */\n  private validPassword(password: string){\n    if(\n      password.match(passwordLowercaseRegEx) &&\n      password.match(passwordUppercaseRegEx) &&\n      password.match(passwordDigitRegEx) &&\n      password.match(passwordSpecialRegEx) &&\n      password.match(passwordLengthRegEx))\n    {return true;}\n    return false;\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts","import {Component, OnInit} from '@angular/core';\nimport {AlertController, IonicPage, NavController, NavParams, ToastController} from 'ionic-angular';\nimport {AccountPage} from \"../account/account\";\nimport {RegisterPage} from \"../register/register\";\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {AuthService} from \"../../shared/auth.service\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {PushService} from \"../../shared/push.service\";\nimport {LoadingService} from \"../../shared/loading.service\";\n\n@IonicPage()\n@Component({\n  selector: 'page-choose-login',\n  templateUrl: 'choose-login.html',\n})\nexport class ChooseLoginPage implements OnInit{\n\n  ngOnInit(): void {\n\n  }\n\n  constructor(public navCtrl: NavController,\n              private push: PushService,\n              private translate: TranslateService) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ChooseLoginPage');\n  }\n  goToLogin(){\n    this.navCtrl.push(AccountPage);\n  }\n  goToRegister(){\n    this.navCtrl.push(RegisterPage)\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/choose-login/choose-login.ts","import {Injectable} from \"@angular/core\";\nimport {SERVER_URL} from \"../app/app.module\";\nimport { Response} from \"@angular/http\";\nimport {Observable} from \"rxjs/Observable\";\nimport {Offer} from \"../model/Offer\";\nimport 'rxjs/add/operator/do';\nimport {HttpClient, HttpResponse} from \"@angular/common/http\";\n\n\n/**\n * Service for getting the Offers of a restaurant from the server and caching them.\n * @author David Sautter\n * @edited Paul Mandl\n */\n@Injectable()\nexport class OffersService {\n\n    private cache: Map<number, Offer[]>;\n\n    constructor(private http: HttpClient) {\n        this.cache = new Map();\n    }\n\n\n    /**\n     * Builds a string with the allergenic-ids and the additive-ids of a specific offer used to display\n     * at the offer's product name.\n     * It extracts the data from the provided offer-object and does not fetch from the server.\n     *\n     * @param offer offer-object containing allergenics and additives\n     * @returns {string} A string containing all id's of the allergenics and additives, e.g. '1,4,7,a,g'\n     */\n    public static getALGsAndADDsOfOffer(offer: Offer): string {\n        return offer.allergenic\n            .concat(offer.additives)\n            .map((a: {shortKey: string}) => a.shortKey)\n            .join(\",\") || \"\";\n    }\n\n\n    /**\n     * Retrieves all offers of a specific restaurant from the server. Caches requests and returns\n     * them from the cache if user has already executed this method with the same restaurant-id.\n     *\n     * @param {number} restaurantId the restaurant to retrieve the offers from\n     * @returns {Observable<Offer[]>} resolves to the retrieved offers\n\n    */\n  public loadOffers(restaurantId: number) : Observable<Offer[]> {\n\n     if (this.cache.has(restaurantId)) {\n       return Observable.of(this.cache.get(restaurantId)).take(1);\n     }\n\n    // get offers from server otherwise\n    return this.http.get<Offer[]>(`${SERVER_URL}/api/offers?restaurant_id=${restaurantId}`)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/shared/offers.service.ts","import {Component, OnInit} from \"@angular/core\";\nimport { Response} from \"@angular/http\";\nimport {SERVER_URL} from \"../../app/app.module\";\nimport {Alert, AlertController, Loading, NavController, NavParams, Toast, ToastController} from \"ionic-angular\";\nimport {CartService} from \"../../shared/cart.service\";\nimport {Offer} from \"../../model/Offer\";\nimport {AuthService} from \"../../shared/auth.service\";\nimport {InformationService} from \"../../shared/information.service\";\nimport {Restaurant} from \"../../model/Restaurant\";\nimport {AccountPage} from \"../account/account\";\nimport {RegisterPage} from \"../register/register\";\nimport {Reservation} from \"../../model/Reservation\";\nimport {LoadingService} from \"../../shared/loading.service\";\nimport {TranslateService} from \"@ngx-translate/core\";\nimport {HttpClient, HttpHeaders} from \"@angular/common/http\";\n\n\n/**\n * Page for showing an overview of the cart and the amount of items in it.\n * It calculates and shows the total price to pay and provides a way to donate.\n * @author Skanny Morandi, David Sautter\n */\n@Component({\n    templateUrl: './orderdetails.html'\n})\nexport class OrderDetailsPage implements OnInit {\n\n    public reservation: Reservation;\n    public restaurant: Restaurant;\n    public pickUpTime: Date;\n    public pickUpTimeISOFormat: string; //Date in Stringformat for backend.\n    public userPoints: number = 0;\n    public neededPoints: number = 0; //points needed to pay the current order with points\n    public morePointsThanNeeded: boolean; //user's points are more than is needed to pay with points\n    public payWithPoints: boolean = false;\n\n    public closingTime: string; //of today the current restaurant\n    public earliestPickUp: string;\n    public nowOpen: boolean;\n    private strDonationInfo: string;\n    private strInfo: string;\n    private strSuccessOrder: string;\n    private strFailOrder: string;\n    private strEmptyOrder: string;\n    private strFailedLoadPoints: string;\n    private strOpeningProblem: string;\n    private strError : string;\n    private strOrderPriceImpossible: string;\n    private strDone: string;\n    private strCancel: string;\n\n\n    private param: Object;\n\n    constructor(private http: HttpClient,\n                private navParams: NavParams,\n                private toastCtrl: ToastController,\n                private navCtrl: NavController,\n                private cartService: CartService,\n                private auth: AuthService,\n                private alertCtrl: AlertController,\n                private loading: LoadingService,\n                private translate: TranslateService,\n                private info: InformationService) {\n        this.ionViewDidEnter();\n    }\n\n\n    /**\n     * Calculates the total price of a given Array of Offer-items.\n     * @param items\n     * @returns {number} the total price of all items respecting their amounts.\n     *\n     * @author David Sautter\n     */\n    private static calcTotalPrice(items: Offer[]): number {\n        return items\n            .map((offer: Offer) => offer.price * offer.amount)\n            .reduce((prevOfferSum: number, offerSum: number) => prevOfferSum + offerSum, 0);\n    }\n\n    /**\n     * Does all the calculations everyTime the view gets entered\n     */\n    private ionViewDidEnter(): void {\n        this.restaurant = this.navParams.get(\"restaurant\");\n\n        this.reservation = {\n            id: 0,\n            donation: 0,\n            totalPrice: 0,\n            usedPoints: false,\n            pointsCollected: true,\n            points: 0,\n            reservationNumber: 0,\n            items: this.cartService.getCart(this.restaurant.id),\n            restaurant: this.restaurant,\n            bill: null,\n            reservationStatus: null,\n            collectTime: null\n        };\n\n        this.reservation.totalPrice = OrderDetailsPage.calcTotalPrice(this.reservation.items);\n        if (this.auth.getLoggedIn()) {\n            // in order to determine whether the option of \"paying with points\" is activated or not\n            // these pieces of information have to be provided\n            this.calcNeededPoints();\n            this.getUserPoints();\n        }\n        this.param = {\n            name: this.restaurant.name\n        };\n        this.nowOpen = this.restaurant.currentlyOpen;\n        // sets the earliest settable time in the datepicker to 10 minutes from now.\n        this.calcTimings(10);\n\n    }\n\n\n    public ngOnInit(): void {\n        this.translate.get('Error.emptyOrder').subscribe(\n            (value: string) => {\n                this.strEmptyOrder = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.emptyOrder.\", err);\n            }\n        );\n        this.translate.get('Success.order').subscribe(\n            (value: string) => {\n                this.strSuccessOrder = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Success.order.\", err);\n            }\n        );\n        this.translate.get('info').subscribe(\n            (value: string) => {\n                this.strInfo = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key info.\", err);\n            }\n        );\n        this.translate.get('donationInfo').subscribe(\n            (value: string) => {\n                this.strDonationInfo = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key donationInfo.\", err);\n            }\n        );\n        this.translate.get('Error.failedOrder').subscribe(\n            (value: string) => {\n                this.strFailOrder = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.failedOrder\", err);\n            }\n        );\n        this.translate.get('Error.failedLoadPoints').subscribe(\n            (value: string) => {\n                this.strFailedLoadPoints = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.failedLoadPoints\", err);\n            }\n        );\n        this.translate.get('Error.openingProblem').subscribe(\n            (value: string) => {\n                this.strOpeningProblem = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.openingProblem\", err);\n            }\n        );\n        this.translate.get('Error.general').subscribe(\n            (value: string) => {\n                this.strError = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.general.\", err);\n            });\n        this.translate.get('Error.orderPriceImpossible').subscribe(\n            (value: string) => {\n                this.strOrderPriceImpossible = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key Error.orderPriceImpossible.\", err);\n            });\n        this.translate.get('OrderDetailsPage.done').subscribe(\n            (value: string) => {\n                this.strDone = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key OrderDetailsPage.done\", err);\n            });\n        this.translate.get('cancel').subscribe(\n            (value: string) => {\n                this.strCancel = value;\n            },\n            (err: Error) => {\n                console.error(\"Error: translate.get did fail for key cancel\", err);\n            });\n    }\n\n    /**\n     * Increases the amount of one given offer. Also checks for the max-limit.\n     * Points needed to \"pay with points\" for entire order gets recalculated.\n     * The donation is reset if this method gets executed.\n     * @param offer\n     */\n    public incrAmount(offer: Offer): void {\n        if (offer.amount >= 999) {\n            console.warn(\"Maxmimum amount of Product reached\");\n        } else {\n            offer.amount++;\n            this.reservation.totalPrice = OrderDetailsPage.calcTotalPrice(this.reservation.items);\n            this.reservation.donation = 0;\n            this.calcNeededPoints();\n            this.hasEnoughPoints();\n\n        }\n    }\n\n\n    /**\n     * Decreases the amount of one given offer. Removes item from orders if amount will be 0.\n     * Points needed to \"pay with points\" for entire order gets recalculated.\n     * The donation is reset if this method gets executed.\n     * @param offer\n     */\n    public decreaseAmount(offer: Offer): void {\n        if (offer.amount <= 1) {\n            this.reservation.items.splice(this.findItemIndex(offer), 1);\n        } else {\n            offer.amount--;\n        }\n        this.reservation.totalPrice = OrderDetailsPage.calcTotalPrice(this.reservation.items);\n        this.reservation.donation = 0;\n        this.calcNeededPoints();\n        this.hasEnoughPoints();\n\n    }\n\n\n    /**\n     * Raises the donation by the following rules:\n     *  - increase to next 10 Cents (1,12 -> 1,20)\n     *  - then increase by 10 Cents (1,20 -> 1,30)\n     *\n     *  @author: David Sautter\n     */\n    public incrementDonation(): void {\n        // securing input parameters\n        if (this.reservation.totalPrice === undefined || this.reservation.totalPrice === null || this.reservation.totalPrice < 0) {\n            console.error(`Tried to increment Donation, but totalPrice is: ${this.reservation.totalPrice}`);\n            return;\n        }\n        if (!this.reservation || typeof this.reservation.totalPrice !== \"number\" || typeof this.reservation.donation !== \"number\"\n        ) {\n            console.error(\"Input-Parameters not ok for incrementing a donation\", this.reservation);\n            return;\n        }\n        if (this.reservation.totalPrice < this.reservation.donation) {\n            console.error(`Inconsistent state! totalPrice ${this.reservation.totalPrice} is smaller than donation ${this.reservation.donation}`);\n            this.translate.get(\"Error.critical\").subscribe((errorMsg: string) => {\n                alert(errorMsg);\n                this.navCtrl.popToRoot();\n            });\n            return;\n        }\n        if (this.reservation.donation < 0) {\n            console.error(`donation was ${this.reservation.donation}. Resetting to 0`);\n            this.reservation.donation = 0;\n            return;\n        }\n\n        // do calculations\n        const newTotalPrice: number = Math.ceil(this.reservation.totalPrice * 10 + 0.1) / 10;\n        this.reservation.donation = parseFloat((this.reservation.donation + (newTotalPrice - this.reservation.totalPrice)).toFixed(2));\n        this.reservation.totalPrice = newTotalPrice;\n    }\n\n\n    /**\n     * Decreases the donation by the following rules:\n     *  - if donation >= 10 Cents, decrease by 10 Cents\n     *  - else decrease to the total price of the items (no donation)\n     *\n     *  @author David Sautter\n     */\n    public decrementDonation(): void {\n        let newTotalPrice: number;\n        let donation: number;\n\n        // securing input parameters\n        if (this.reservation && this.reservation.donation <= 0) {\n            console.error(\"Tried to decrement a donation of value: \", this.reservation.donation);\n            this.reservation.donation = 0;\n            return;\n        }\n        if (!this.reservation || !this.reservation.totalPrice || !this.reservation.donation\n            || typeof this.reservation.totalPrice !== \"number\" || typeof this.reservation.donation !== \"number\"\n        ) {\n            console.error(\"Input-Parameters not ok for decrementing a donation\", this.reservation);\n            return;\n        }\n        if (this.reservation.totalPrice < this.reservation.donation) {\n            console.error(`Inconsistent state! totalPrice ${this.reservation.totalPrice} is smaller than donation ${this.reservation.donation}`);\n            this.translate.get(\"Error.critical\").subscribe((errorMsg: string) => {\n                alert(errorMsg);\n                this.navCtrl.popToRoot();\n            });\n            return;\n        }\n\n        // do calculations\n        if (this.reservation.donation > 0.10) {\n            newTotalPrice = Math.floor(this.reservation.totalPrice * 10 - 0.1) / 10;\n            donation = parseFloat((this.reservation.donation + (newTotalPrice - this.reservation.totalPrice)).toFixed(2));\n        } else {\n            newTotalPrice = this.reservation.totalPrice - this.reservation.donation;\n            donation = 0;\n        }\n        this.reservation.donation = donation;\n        this.reservation.totalPrice = newTotalPrice;\n\n    }\n\n\n    /**\n     * Sends the current order to the server.\n     * While request is running, loading-animation is active.\n     *\n     * @author Skanny Morandi, David Sautter\n     */\n    public sendOrder(): void {\n        if (this.reservation !== null) {\n            // total price smaller then donation or total price negative\n            if (this.reservation.totalPrice < this.reservation.donation ||\n                this.reservation.totalPrice < 0) {\n                const alert: Alert = this.alertCtrl.create({\n                    title: this.strError,\n                    message: this.strOrderPriceImpossible,\n                    buttons: [{\n                        text: 'Ok',\n                        role: 'cancel'\n                    }]\n                });\n                alert.present();\n                this.navCtrl.pop();\n\n            }\n            //sending an empty order is not possible\n            else if (this.reservation.items.length === 0) {\n                const alert: Alert = this.alertCtrl.create({\n                    title: this.strError,\n                    message: this.strEmptyOrder,\n                    buttons: [{\n                        text: 'Ok',\n                        role: 'cancel'\n                    }]\n                });\n                alert.present();\n            } else {\n                const loader: Loading = this.loading.prepareLoader();\n\n                //starts the loading spinner\n                loader.present().then(() => {\n\n                    //times in ionic and timestamp on server have 2 hrs difference\n                    const timeDifference: number = 120 * 60 * 1000;\n                    this.reservation.collectTime = Date.parse(this.pickUpTimeISOFormat) - timeDifference;\n\n                    //if logged in,\n                    if (this.auth.getLoggedIn()) {\n                        this.reservation.usedPoints = this.payWithPoints;\n                        this.reservation.pointsCollected = !this.reservation.usedPoints;\n\n                        this.reservation.points = this.neededPoints;\n                    }\n                    //noinspection TsLint\n                    const payload: any = {\n                        ...this.reservation,\n                        reservation_offers: [],\n                        restaurant: {\n                            id: this.reservation.restaurant.id      // do only send id with request payload (faster)\n                        }\n                    };\n                    payload.items.forEach((item: Offer) => {\n                        payload.reservation_offers.push({\n                            offer: {\n                                id: item.id\n                            },\n                            amount: item.amount\n                        });\n                    });\n                    delete payload.items;\n\n                    //prepare RequestOptions for http-call\n                    const headers: HttpHeaders = this.auth.prepareHttpOptions();\n\n                    this.http.post(`${SERVER_URL}/api/register_reservation`, JSON.stringify(payload), {headers})\n                        .retry(2)\n                        .subscribe(\n                            res => {\n                                const toast: Toast = this.toastCtrl.create({\n                                    message: this.strSuccessOrder,\n                                    duration: 3000\n                                });\n                                toast.present();\n\n                                // empty the cart for this restaurant\n                                this.cartService.emptyCart(this.restaurant.id);\n\n                                // go back to restaurants-overview\n                                this.navCtrl.popToRoot();\n\n                                //stop the spinner\n                                loader.dismiss();\n                            },\n                            err => {\n                                console.error(err);\n                                alert(this.strFailOrder);\n                                //stop the spinner\n                                loader.dismiss();\n\n                            });\n                });\n            }\n        }\n    }\n    /**\n     * Shows explanation for donation option in the view\n     */\n    public showDonationInfo(): void {\n        const alert: Alert = this.alertCtrl.create({\n            title: this.strInfo,\n            subTitle: this.strDonationInfo,\n            buttons: ['Ok']\n        });\n        alert.present();\n    }\n\n    /**\n     * Sends the user to the Loginpage. After successful Login by sending along the\n     * \"comeBack\"-boolean he is automatically coming back to this orderdetails-page.\n     */\n    public goToLogin(): void {\n        this.navCtrl.push(AccountPage, {comeBack: true, restaurant: this.restaurant});\n    }\n\n    /**\n     * Sends the user to the Registry. After successful Registration and\n     * involved Login by sending along the \"comeBack\"-boolean he is\n     * automatically coming back to this orderdetails-page.\n     */\n    public goToRegister(): void {\n        this.navCtrl.push(RegisterPage, {comeBack: true, restaurant: this.restaurant});\n    }\n\n    /**\n     * Gets the Points of the user for the particular restaurant\n     * Sets the information whether its possible to pay the order with points\n     */\n    public getUserPoints(): void {\n        //start loading animation\n        const loader: Loading = this.loading.prepareLoader();\n        loader.present().then(() => {\n            //prepare RequestOptions\n            const headers: HttpHeaders = this.auth.prepareHttpOptions();\n\n            this.http.get(`${SERVER_URL}/api/get_points_restaurant/${this.restaurant.id}`, {headers})\n                .retry(2)\n                .subscribe(\n                    res => {\n                        //noinspection TsLint\n                        const reply: any = res;\n                        //if user has no points at the restaurant yet\n                        if (!(reply.length === 0)) {\n                            this.userPoints = reply[0].points;\n                        }\n                        // set param for html\n                        this.param = {\n                            name: this.restaurant.name,\n                            points: this.userPoints,\n                            nPoints: this.neededPoints\n                        };\n                        // boolean whether enough points to pay order with points\n                        // has to wait for the getUserPoints query\n                        this.morePointsThanNeeded = this.userPoints > this.neededPoints;\n                        loader.dismiss();\n\n                    },\n                    err => {\n                        console.error(err);\n                        alert(this.strFailedLoadPoints);\n                        loader.dismiss();\n                    });\n        });\n    }\n\n    /**\n     * calculates the points that are needed to pay for the order with only points\n     */\n    public calcNeededPoints(): void {\n        let totalNeededPoints: number = 0;\n        for (const item of this.reservation.items) {\n            totalNeededPoints += (item.neededPoints * item.amount);\n        }\n        this.neededPoints = totalNeededPoints;\n    }\n\n    /**\n     * checks whether user has enough points to pay with points\n     */\n    public hasEnoughPoints(): void {\n        this.morePointsThanNeeded = this.userPoints >= this.neededPoints;\n    }\n\n    /**\n     * calculates the minimum and maximum time for the datepicker that lets the user choose his desired\n     * pickuptime depending on the opening times of the restaurant on the current day\n     * @param prepTime\n     *  amount of time that is needed for the order to be prepared. the time of Now + the prepTime equals\n     *  the lower threshold of the datepicker.\n     */\n    public calcTimings(prepTime: number): void {\n        const date: Date = new Date();\n        // restaurant.timeSchedules is an Array of Objects with opening time strings for single\n        // days in the order of weekdays e.g. timeSchedules[0] are opening times on Monday\n\n        try {\n            let day: number = date.getDay();\n            if (day === 0) {\n                day = 1;\n            } else {\n                day = day - 1;\n\n            }\n\n            this.closingTime = this.restaurant.timeSchedules[day].openingTimes[0].closingTime.split(\" \")[1];\n            const prepTimeInMs: number = prepTime * 60 * 1000 + 120 * 60 * 1000; //= +2hrs difference from UTC time\n            date.setTime(date.getTime() + prepTimeInMs);\n\n            this.pickUpTime = date;\n            this.pickUpTimeISOFormat = date.toISOString();\n\n            this.earliestPickUp = date.toISOString();\n        } catch (e) {\n            console.error(e);\n            alert(this.strOpeningProblem);\n        }\n    }\n\n    /**\n     * Finds the index of this offer in the items-array of the reservation.\n     * @param offer\n     * @returns {number}\n     */\n    private findItemIndex(offer: Offer): number {\n        return this.reservation.items\n            .findIndex((item: Offer) => item.id === offer.id);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/orderdetails/orderdetails.ts"],"sourceRoot":""}